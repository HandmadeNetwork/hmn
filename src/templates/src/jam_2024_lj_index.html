{{ template "base-2024.html" . }}

{{ define "extrahead" }}
	{{ template "lj2024-styles" . }}
{{ end }}

{{ define "content-top" }}
	{{ if or (gt .Timespans.DaysUntilStart 0) (eq .Timespans.DaysUntilEnd 0) }}
		{{ template "lj2024-bannerbig" . }}
	{{ else }}
		{{ template "lj2024-bannersmall" . }}
	{{ end }}
{{ end }}

{{ define "content" }}
<div class="mw7 center flex flex-column">
	{{ if gt .Timespans.DaysUntilStart 0 }}
		{{ template "before-jam" . }}
	{{ else if gt .Timespans.DaysUntilEnd 0 }}
		{{ template "during-jam" . }}
	{{ else }}
		{{ template "after-jam" . }}
	{{ end }}
</div>
{{ end }}

{{ define "before-jam" }}
	{{ template "lj2024-guidelines" . }}
{{ end }}

{{ define "during-jam" }}
	{{ if .JamProjects }}
		{{ template "lj2024-description" . }}
		{{ if .TimelineItems }}
			<div class="ph3 pv4 bb b--rich-gray">
				<h2 class="c--theme-gradient-light">Recent updates</h2>
				<p>
					See what community members are learning about their topics. You can share your own updates via your <a href="{{ or .SubmittedProject.Url .NewProjectUrl }}">project page</a> or using the <b>!til</b> command on Discord.
				</p>
				<div class="flex flex-column g2 mt3">
					{{ template "lj2024-feeditems" .TimelineItems }}
					<a href="{{ .JamFeedUrl }}" class="link--white tc pa1">
						See all updates<div class="dib svgicon f8 ml1">{{ svg "chevron-right" }}</div>
					</a>
				</div>
			</div>
		{{ end }}
		<div class="ph3 pv4 bb b--rich-gray">
			<h2 class="c--theme-gradient-light mb3">Projects</h2>
			{{ template "lj2024-projects" .JamProjects }}
		</div>
	{{ else }}
		{{ template "lj2024-guidelines" . }}
	{{ end }}
{{ end }}

{{ define "after-jam" }}
	{{ template "lj2024-description" . }}
	<div class="ph3 pv4 bb b--rich-gray post-content">
		<h2 class="dib c--theme-gradient-light">Recap show</h2>
		<p>
			Watch the recap show celebrating all the submissions:
		</p>
		<div class="mt3" style="aspect-ratio: 16 / 9;">
			<iframe width="100%" height="100%" src="https://www.youtube-nocookie.com/embed/MCrt472DkxE?si=PGWFnM8rK4GqCjH7" title="HMN Learning Jam 2024 Recap Stream" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
		</div>
	</div>
	<div class="ph3 pv4 bb b--rich-gray">
		<div class="flex justify-between items-baseline">
			<h2 class="c--theme-gradient-light mb0">Submitted projects</h2>
			<a href="{{ .JamFeedUrl }}" class="link--white tc">
				See all updates<div class="dib svgicon f8 ml1">{{ svg "chevron-right" }}</div>
			</a>
		</div>
		<div class="mt3">
			{{ template "lj2024-projects" .JamProjects }}
		</div>
	</div>
{{ end }}
