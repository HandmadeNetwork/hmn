---
name: "riscy000"
title: "How to Watch RISCY BUSINESS - The Annotated Episode Guide"
markers:
"1": "Welcome to the video about Miblo's cinera with a shout-out to Kelimion for integrating it into the Handmade Network"
"40": "Visit the project page for cinera in the Handmade Network, with a few words on how to indirectly support Miblo via RISCY BUSINESS"
"192": "Bring up the RISCY BUSINESS Episode Guide"
"231": "You can also support Handmade Hero. Casey supports Miblo as well"
"254": "Thoughts on consuming long-form video content, with an example of the stop-gap solution"
"484": "Demonstrate searching the episode guide"
"679": "Demonstrate skipping through a video, accessing references and understanding topics"
"904": "Try out the filter"
"1164": "To be fair, this is the first time Cinera has been used widely, Mio. Some bugs are to be expected. Because I too would've expected only the chat comment marked as asm to show up in exclusive"
"1234": "Continue to explore cinera"
"1278": "Or even the other way around, where inclusive is everything that matches both the selected topics + media, and exclusive is whatever's left when you do that"
"1306": "Try out the links in the Credits menu"
"1357": "Isn't exclusive just removing anything that has a category that is greyed out?"
"1373": "Nail down our understanding of cinera's filter"
"1548": "I have to dash, Mio. It was great catching up, and I'll watch the annotated VOD when it goes up on the site"
"1559": "It's turning things off for inclusive if they no longer have anything you've chosen to filter for, right?"
"1566": "Continue to nail down our understanding of cinera's filter"
"1752": "To be frank, the interface / terminology is somewhat confusing. I prefer having an "AND" vs. "OR" switch for things you're including, rather than this way of filtering things out (yes, that does work slightly differently)"
"1778": "Understanding filter modes inclusive vs exclusive"
"1873": "Briefly recap the Credits menu links and begin to explore Keyboard Navigation"
"2044": "Ctrl-Z"
"2058": "Try out the Keyboard Navigation"
"2138": "Try out the Keyboard Navigation in Chromium"
"2719": "Try to try out a quotes menu"
"2846": "Try out the References menu with multiple identifiers per reference"
"2915": "Recommend watching at 2× speed and at at least 480p quality"
"2983": "Recommend MotionBox with a wish that Miblo and Bunjee collaborate to make the annotations and MotionBox work together"
"3093": "Recap the search capabilities and video navigation"
"3320": "Huge shout-out to Miblo and to Kelimion for helping integrate Cinera into Handmade Network"
---
name: "riscy001"
title: "Mystery Unboxing!"
markers:
"40": "Hello and welcome"
"102": "Embark on unboxing the HiFive1"
"266": "Take a look at the contents"
"506": "Reveal and describe the HiFive1 chip"
"692": "Take a look at the HiFive1 documentation"
"1053": "Attempt, sadly unsuccessfully, to plug it in"
"1167": "Continue reading the documentation, Optional Hardware"
"1302": "Consider getting a shield for Wi-Fi and speech synthesis"
"1356": "Read about the Board Setup"
"1444": "Read about the Boot and Run process"
"1620": "Consider packaging the Freedom E SDK for Arch Linux's AUR"
"1761": "Read about the Software Development Flow, with a few words on Arch packages"
"1953": "Consult the Pinout diagram, OTP Contents and Boot Sequence documentation"
"2279": "Reiterate the need to order a Micro-USB cable and end today's stream here"
---
name: "riscy002"
title: "Getting the HiFive1 Working"
markers:
"6": "Recap and set the stage for the day"
"96": "Consult the HiFive1 forums "
"242": "Determine to switch the IOREF jumper to 5v"
"297": "Show the HiFive1 Founders Edition"
"342": "Plug in the HiFive1 and consult lsusb and dmesg to see errors"
"429": "Disconnect the HiFive1 and move the IOREF jumper to 5v"
"486": "Plug it back in and again consult lsusb and dmesg"
"544": "Try it in a different USB port"
"564": "I'm just going to unplug my mouse"
"593": "Show the HiFive1 running a program"
"673": "It's confirmed: unplugging our mice solves all our problems"
"754": "Consult lsusb to see our HiFive1 showing up"
"768": "Haha, yeah. You now have a tablet for drawing, though"
"815": "Run screen on /dev/ttyUSB1 and see a blank window"
"849": "Consult the documentation to see what we're supposed to see "
"952": "Investigate why we're not seeing what we should"
"1130": "Consider the possibility that it's still an issue with the USB port, and try a different one"
"1170": "Do you need to press the "reset" button once you're screen'd into it?"
"1294": "That was also /dev/ttyUSB0. Did you also try /dev/ttyUSB1? (Apologies for not paying closer attention!)"
"1326": "Try running screen on /dev/ttyUSB1 and pressing the reset button to see what happens"
"1392": "Play with the demo program"
"1458": "Plug the mouse back in and continue exploring the documentation"
"1500": "if(Input == 'y') { printf("PASS");} else { printf("FAIL"); }"
"1521": "Play with the demo program some more"
"1566": "I'm too giddy to do that"
"1596": "Clone the Freedom E SDK repo"
"1667": "Consider ordering the GinSing speech synthesis shield in order to read out the chat "
"1899": "What the HiFive1 supports"
"2196": "So does "compressed" essentially mean you end up with smaller binaries?"
"2251": "Consult the User-Level ISA Specification v2.1 "
"2552": "Play 'DOG HEAVEN' by SNCKPCK and let in the dog "
"2650": "Return and let the song play to completion"
"2818": "Write the udev rules for the HiFive1"
"3073": "Olimex debugger?"
"3130": "Research the Olimex debugger"
"3227": "Research uucp vs plugdev"
"3293": "Did you replug it after the udev change?"
"3337": "Replug the HiFive1 to see if the udev rule takes effect"
"3424": "I wonder if there's any reason not to just add ourselves to the uucp group..."
"3470": "¯\_(ツ)_/¯"
"3548": "Find that we're still pulling in the Freedom E SDK, and call it a day with a glimpse into the future"
"3645": "How about Hello, World! in Morse code?"
---
name: "riscy003"
title: "Programming the HiFive1"
markers:
"6": "Recap and set the stage for the day"
"92": "Begin to acquaint ourselves with the demo code from the Freedom E SDK"
"167": "Take a look at plic_driver.h and .c"
"806": "Return to demo_gpio.c"
"1528": "Are there two stages to the interrupt: claim_interrupt() and actual_interrupt() or whatever?"
"1546": "So both of them do 1.5 seconds which add up to 3?"
"1644": "Determine to try uploading this demo program to the HiFive1"
"1682": "I am grounded once again"
"1764": "Connect to the HiFive1 and try uploading demo_gpio"
"1940": "Compile demo_gpio and try uploading that"
"2036": "miotatsu: PROGAM is misspelled"
"2090": "Reconnect to the HiFive1 and try out the demo"
"2229": "I mean, surely that missing R can't have made it partially succeed..."
"2250": "Try killing screen and reconnecting to it"
"2295": "Tweak hello.c, compile and hit an error"
"2555": "Try modifying demo_gpio.c instead"
"3016": "You could just do: $^v}A\n\"
"3047": "You could just do @a then hold down @ until you get where you wanna be"
"3099": "Rebuild demo_gpio and upload it"
"3136": "Congratulate Miblo for being the first person to be slammed a thunderous high-five by the HiFive1"
"3178": "This is all we have time for today"
---
name: "riscy004"
title: "Exploring the Freedom E SDK"
markers:
"24": "Introduce the riscy playlist and annotations"
"386": "Promote the riscy Patreon and Miblo's Patreon"
"485": "Set the stage for the day"
"566": "Assess the current status of milton work"
"742": "Commit "Custom Fork with Paper Modes""
"881": "Clone the Annotations repository and paste the files into the YouTube descriptions"
"1054": "Don the antistatic wristband and begin looking into the HiFive1"
"1133": "Consult the HiFive1 forums for the status of the Freedom E SDK package "
"1532": "Consider why the "Hello, world" program didn't work"
"1602": "Recommend the pass password manager "
"1794": "Consult the SiFive forums and note that we must run software_clean before building a different package"
"1978": "Connect to the HiFive1 and hit the reset button to see output"
"2068": "A few words on the original plan for riscy"
"2198": "Determine to understand everything there is to understand about the HiFive1"
"2537": "Read plic_driver.h and plic_driver.c, and determine to understand read_csr()"
"2771": "Consult man screen, with an exercise for the viewer: Try connecting to the HiFive1 using tmux"
"2985": "Begin the hunt for the definition of read_csr()"
"3081": "Consult the Freedom E SDK's Makefile to see what it includes"
"3704": "Find what we're looking for and open up all the files that plic_driver.c includes"
"3772": "That's everything"
---
name: "riscy005"
title: "Understanding read_csr(mhartid)"
markers:
"6": "Set the stage for the day"
"42": "Read through plic.h"
"141": "Read through encoding.h, where we find read_csr()"
"393": "Read freedom-e300-hifive1/platform.h"
"487": "Consult the manual: Memory Map, and Interrupts"
"719": "Continue reading plic_driver.c with a view to understanding read_csr(mhartid)"
"797": "Consult the User-Level spec on CSR instructions"
"1145": "Atomic Read and Set Bits in CSR"
"1610": "Consult the Privileged ISA Spec on CSR "
"1830": "Begin to understand the csrr instruction, aided by the table of CSR addresses"
"2074": "Learn that mhartid is the "Hardware thread ID""
"2396": "Read about the Machine-Level ISA"
"2725": "I think the %0 refers to the _tmp variable"
"2759": "The GCC inline asm syntax is pretty weird"
"2816": "Summarise what read_csr(mhartid) is doing"
"2853": "Move on to the next line of code"
"3020": "The parameters that csrr takes, and what read_csr() and mhartid are"
"3227": "Discover what _AC() and PLIC_ENABLE_OFFSET() are"
"3411": "Determine to consult the spec tomorrow"
---
name: "riscy006"
title: "Studying the PLIC"
markers:
"10": "Recap and set the stage for the day"
"49": "Consult the HiFive1 schematics, the Platform Reference Manual and the E3 Coreplex Manual"
"212": "Read about the Platform-Level Interrupt Controller in the RISC-V Privileged spec"
"415": "Summarise this paragraph"
"654": "Research Local interrupt sources"
"821": "Note that there are a number of registers relating to interrupt sources, all starting with an "m", with a few words on information seeping in"
"909": "Research Global interrupt sources"
"985": "Research Interrupt Targets and Hart Contexts"
"1218": "Research Controlling Access to the PLIC and PLIC Core Specification"
"1454": "Research Interrupt Flow"
"1707": "Summarise the idea of the interrupt flow processing"
"1883": "Correct a typo in the notes"
"1982": "Platform-Level Interrupt Controller"
"2622": "Research Interrupt Enables"
"2896": "Research Interrupt Priorities"
"3110": "Research Interrupt Priority Thresholds"
"3262": "Research Platform-Level Interrupt Controller in the E3 Coreplex Manual"
"3438": "Explore the PLIC code to see how it corresponds with our newly acquired knowledge"
"3667": "We're out of time"
---
name: "riscy007"
title: "Understanding PLIC_Init & PLIC_set_threshold"
markers:
"23": "Recap and set the stage for the day"
"97": "Determine to understand the PLIC_ENABLE_OFFSET enables"
"232": "Research the Platform-Level Interrupt Controller, Memory Map"
"395": "Research Target Interrupt Enables"
"477": "demo_gpio.c number_sources passing to PLIC_init()"
"715": "Consult the Freedom E310-G000 Manual to see why PLIC_NUM_INTERRUPTS is 52"
"923": "Investigate why we are clearing (num_sources + 8) / 8 bytes"
"1176": "Is there 1 bit per interrupt?"
"1183": "Does the 3-bitness of the interrupts matter, perhaps?"
"1219": "The + 8 / 8 seems suspiciously like a round-up to me"
"1288": "Investigate why we are shifting up the hart_id by PLIC_ENABLE_SHIFT_PER_TARGET"
"1330": "Yeah, it would pass 7. I mean like if you passed in a count that isn't a multiple of 8, it makes sure you clear the byte required for the left over bits"
"1653": "Bit shifting up by 7, and binary values in hexadecimal"
"1897": "I think all the interrupt enable bits are packed together in the first target, so it just needs to set 7 bytes to 0 to clear them all"
"1961": "I'm going by the text in the Coreplex manual section 6.4, and 6.5 which says the interrupt enables use the same format as in 6.4"
"2125": "Research the Interrupt Pending Bits and Target Interrupt Enables in the Freedom Everywhere's Coreplex manual"
"2327": "Yeah with 52 interrupts, in a packed bit array, that's 52 bits, or 7 bytes"
"2363": "Come to fully understand why we are shifting up the hart_id by PLIC_ENABLE_SHIFT_PER_TARGET"
"2602": "What the hart_id shifting accomplishes"
"2711": "Did we establish what "hart" stands for?"
"2734": "Oh, wait, in the Terminology section it says: HARdware Thread"
"2779": "Consult the Terminology section in the Coreplex manual"
"2966": "HiFive1 doesn't look that big"
"3001": "Note HARdware Thread and the computation of the interrupt size clearing"
"3216": "Come to understand how the setting of all priorities to 0 is being accomplished"
"3474": "Come to understand how the setting of the threshold to 0 is being accomplished"
"3874": "Swiftly read PLIC_set_threshold(), before moving on to PLIC_enable_interrupt()"
"3947": "Determine to take a closer look at PLIC_enable_interrupt()"
---
name: "riscy008"
title: "Bit Twiddling Confusion"
markers:
"7": "Mention the poll"
"162": "Recap and set the stage for the day"
"236": "Embark on understanding PLIC_enable_interrupt()"
"452": "Consult demo_gpio.c for a use case of PLIC_enable_interrupt()"
"738": "Consult env/hifive1.h for the INT_DEVICE_BUTTON_* and BUTTON_*_OFFSET defines"
"975": "Consult PLIC_enable_interrupt() in conjunction with the FE310-G000 Interrupts and the SiFive PLIC Register Map table"
"1146": "Calculating the value of INT_DEVICE_BUTTON_0 and the result of shifting it >> 3"
"1310": "Hunt for more information about the GPIO pins"
"1498": "Summarise what current_ptr is being set to and move on to working out how the current mask works"
"1667": "The current mask"
"1898": "0x17 >> 3"
"1986": "It's 128, according to: printf("%d\n", 1 << (0x17 & 0x7));"
"2261": "The AND operator"
"2325": "Realise that it should be in hex"
"2348": "It's not 7 and 17, though, it's 0x7 and 0x17"
"2392": "The current mask, take #2"
"2585": "I think you should be shifting up the 1 by 0b00111 bits, if that makes a difference"
"2597": "The current mask, take #3"
"2683": "The address of current_ptr"
"2847": "We're doing 0x17 >> 3? This does equal 2, apparently"
"2900": "Our conceptual understanding of PLIC_enable_interrupt()"
"3143": "I think it's moving the current_ptr to one of the target 1 enables, i.e. the third one, or 0x0C002082 (with 0x0C002080 being the first target 1 enable)"
"3204": "Target Enable 0 at 0x0C002082 in memory, and the relative location of current_ptr"
"3529": "Consult the FE310-G000 Interrupts and consider which bit PLIC_enable_interrupt() is setting"
"3574": "source & 0x7 can produce values from 0 to 7 depending on value of source. So the shift may vary, it doesn't have to be exactly 7"
"3616": "What PLIC_enable_interrupt() does for source 0x8, to compare with the previous 0x17"
"4039": "Consider that it's computing the correct thing for gpio0, and look back at the 0x17 example"
"4358": "What is current set to?"
"4470": "We are out of time for today"
---
name: "riscy009"
title: "Understanding the Rest of the PLIC Driver & RTC_FREQUENCY"
markers:
"20": "Recap yesterday's confusion with a few words on things stewing in our minds"
"83": "First realisation: Shifting right is dividing by a power of 2"
"247": "Second realisation: The smallest addressable unit is a byte, not a bit"
"355": "Third realisation: n & 0x7 == n % 8"
"493": "What PLIC_enable_interrupt() is doing"
"829": "Performing PLIC_enable_interrupt() for gpio0 at 0x8"
"1087": "Read and understand PLIC_disable_interrupt()"
"1212": "Begin to understand PLIC_set_priority() in conjunction with the Freedom E310-G000 Manual and the Draft Privileged ISA Specification"
"1734": "Continue reading PLIC_set_priority()"
"2029": "Begin to understand PLIC_claim_interrupt()"
"2171": "Research what we use PLIC_claim_interrupt() for in the Draft Privileged ISA Specification"
"2417": "Summarise what PLIC_claim_interrupt() is for"
"2477": "Read and understand PLIC_complete_interrupt() in conjunction with the Draft Privileged ISA Specification and the E3 Coreplex Manual"
"2875": "Summarise both PLIC_complete_interrupt() and PLIC_claim_interrupt()"
"2929": "Read demo.gpio.c from the top down, starting with the RTC Frequency"
"3006": "Research the Real-Time Clock in the Platform Reference Manual"
"3377": "Begin to understand reset_demo() in conjunction with the Draft Privileged ISA Specification"
"3538": "Determine to understand clear_csr() with reference to documentation on the GNU Inline Assembly syntax"
"3757": "We are out of time for today, with a mention of the poll"
---
name: "riscy010"
title: "Studying GNU Assembler Syntax"
markers:
"6": "Set the stage for the day, looking at the GNU Assembler Syntax"
"35": "Begin to learn GCC Inline Assembly"
"452": "Consult write_csr() and continue reading the example code in the guide"
"1169": "Come to understand what the read_csr() macro is doing"
"1242": "__temp is what is returned?"
"1422": "Research about the C preprocessor's # and ## replace operators"
"1492": "Return to read_csr()"
"1614": "Sketch out an interpretation of the syntax of read_csr()"
"1829": "What was the %0 doing again?"
"1915": "read_csr()"
"1959": "Yeah, I watched them all!"
"2053": "Write out a test program using the syntax of read_csr()"
"2188": "Build and run the test program successfully"
"2275": "Move on to understanding clear_csr()"
"2437": "You can use the built-in function __builtin_constant_p to determine if a value is known to be constant at compile time and hence that GCC can perform constant-folding on expressions involving that value"
"2475": "__builtin_constant_p"
"2603": "Continue working towards understanding clear_csr()"
"2655": "Consult the Tiny Guide in order to confirm the order of operand references"
"2757": "Read about the Clobber List in the Tiny Guide"
"2886": "Determine that we know enough about inline assembly for now, and glimpse into the future"
"2967": "Read clear_csr() in conjunction with the documentation on the CSR"
"3694": "Summarise what clear_csr() is doing"
"3827": "Why the < 32?"
"3901": "Consider the fact that the register we're talking about is 32 bits long"
"4120": "Determine to study the instruction encoding in the next episode, with a mention of the poll"
---
name: "riscy011"
title: "Studying RISC-V Instruction Encoding"
markers:
"33": "Recap and set the stage for the day"
"82": "Note that immediates are packed into 5 bits"
"141": "Determine to study the encoding of the instructions"
"213": "Read about the Instruction Length Encoding in the User-Level ISA Specification"
"353": "Instruction Encoding"
"601": "Consult the diagram of RISC-V instruction length encoding"
"656": "The 32-bit instruction space"
"879": "Research the Base Instruction Formats"
"994": "R-type instruction format"
"1395": "I-type instruction format"
"1473": "S-type instruction format"
"1629": "U-type instruction format"
"1747": "Read on about the base instruction formats"
"2126": "Read about Immediate Encoding Variants"
"2533": "How the bits of the immediates are split across the instruction"
"2952": "SB-type is a 12-bit immediate shifted one place to the left"
"3026": "Research sign extension"
"3386": "A few words on using two's complement in Minecraft"
"3557": "We are out of time for today, with a confirmation that the poll decided we will not hire an artist"
---
name: "riscy012"
title: "Ripple Carry Adders & Two's Complement"
markers:
"7": "Set the stage for the day, looking at two's complement and sign extension"
"41": ""It seems like, as you get older, the years start to go by like weeks""
"61": "Recommend Code by Charles Petzold"
"303": "Using an electromagnet with a telegraph to communicate in Morse code"
"596": "Adder circuit"
"1082": "Research logic gates"
"1167": "XOR"
"1538": "Redraw the tables"
"1681": "What an XOR gate will do when the carry is off"
"2007": "Propagating the carry through our circuit"
"2218": "Consult Wikipedia for a ripple carry adder"
"2338": "This circuit does 1 bit of the adder computation"
"2485": "Subtraction circuit"
"2686": "Agreeing on an encoding in order to communicate useful information"
"2793": ""You can quote whatever you like, Miblo""
"2886": "Start with looking at ones' complement"
"3268": "Go to two's complement"
"3552": "Using both ones' complement and two's complement to enable our circuit to perform subtraction"
"3883": "GCC's "Statements and Declarations in Expressions" Extension"
"3972": "That's all for now"
---
name: "riscy013"
title: "Getting Back to the Code"
markers:
"8": "Recap and set the stage for the day"
"57": "Sign extension in two's complement"
"465": "You can do a two's complement on 1000_0000 to get the positive value"
"607": "Research setting only the most significant bit in two's complement"
"919": "Refresh our memory on the Base Instruction Formats and the Immediates with regard to sign extension"
"1165": "Read about the Integer Register-Immediate Instructions"
"1374": "Adding unsigned immediates"
"1405": "For the adder it does not matter if it's a sign or signed"
"1608": "Adding unsigned 42 to 128 using sign extension (with incorrect results)"
"1907": "But I remember in Computer Architecture class, for ALU, depending on the instruction being signed or unsigned, we had to do a two's complement before passing the number to the, let's say, adder"
"2067": "I have a list of instructions for RISC-V and I can only see ADD and ADDI"
"2128": "Consider unsigned immediate adding to be a gotcha if coding in assembly"
"2288": "Sorry, I found two more. This what I found: ADDI ADD ADDIW ADDW"
"2427": "By the way I am reading the RTL for instructions"
"2485": ""
"2693": "Read about the Control and Status Register Instructions with a view to understanding the < 32 test in clear_csr()"
"3029": "Read about the rs1 and rd, and RISC-V user-level base integer register state"
"3288": "Read about the types of immediate produced by RISC-V instructions"
"3669": "Determine to ask in the SiFive Forums about the < 32 test in clear_csr()"
---
name: "riscy014"
title: "Studying the Machine Interrupt Registers"
markers:
"6": "Recap and set the stage for the day"
"51": "Intuition on two's complement"
"250": "We are counting with zeroes"
"543": "Revisit instructions.scala and research register-transfer level"
"955": "Come to understand how to specify that rs1 represents an immediate or a register, thanks to the reply to the "Confusion Regarding Freedom E SDK inline asm" forum thread"
"1105": "Read clear_csr() to put csrrc into perspective with our new understanding of pseudo-instructions and the i vs r hints"
"1344": "Read about CSRRCI in the CSR Instructions section of the User-Level ISA Specification"
"1385": "Walk through clear_csr() again"
"1733": "GNU Assembly Syntax: Constraints and Syntax"
"2115": "Continue reading clear_csr()"
"2421": "Pop back up to the top of the stack, to reset_demo(), and read about the currently allocated RISC-V machine-level CSR addresses"
"2651": "Read about Machine Interrupt Registers, including the mie (machine interrupt-enable) register"
"2966": "Note how common it is in plic_driver.c for us to compute an address of a memory mapped register in order to mess with interrupts"
"3105": "A few words on the sponge mode that we're in"
"3170": "Continue reading about the Machine Interrupt Registers"
"3513": "Return to demo_gpio.c and come to understand the clear_csr() calls in relation to the documentation"
"4008": "We're out of time for today"
---
name: "riscy015"
title: "Understanding reset_demo"
markers:
"5": "Start the stream with a mention of the "Useful Links" forum thread"
"57": "Start reading the message from Hossein"
"122": "Take a little digression to mention the Ultimate Hacking Keyboard"
"202": "Continue reading Hossein's message"
"545": "Recommend "Indistinguishable From Magic: Manufacturing Modern Computer Chips" video"
"561": "Fish 'n' Chip fabrication?"
"632": "Read Hossein's follow-up message on SiFive's business model"
"772": "Take a refresher on what we were doing, before letting in the DOG"
"938": "Return"
"984": "You can totally do that!"
"991": "Research MIE-related and DECLARE_CSR declarations"
"1325": "TODO: dive into DECLARE_CSR()"
"1677": "The privileged spec was the most recent doc you were looking at"
"1752": "Refer to the documentation on currently allocated RISC-V machine-level CSR addresses in conjunction with the code"
"1856": "Note that they only defined values for MIP_*, and research the IRQ* values"
"2039": "Read about the Machine interrupt-enable register (mie) and summarise what clear_csr() is doing"
"2246": "Continue reading reset_demo(), as it sets g_ext_interrupt_handlers and calls print_instructions()"
"2702": "TODO: STDOUT_FILENO, write, uart..."
"2757": "Continue reading through reset_demo() as it calls PLIC-related functions"
"2895": "TODO: GPIO_REG"
"2943": "Go over reset_demo() again"
"3022": ""And then there's a comment that just says The""
"3031": "Read on about how reset_demo() handles timers"
"3071": "A few words on the code being the documentation"
"3229": ""For Handmade stuff I really do like the idea of just diving in and really understanding the code""
"3241": "Call functions and vars in a sane way and you never need comments"
"3256": "I mean comments like "WIP" or "TODO" are useful indeed"
"3288": "Continue reading about about reset_demo() handles timers and recap the areas to explore from the blackboard"
"3412": "Start researching the CLINT in the Freedom E310-G000 Manual and the E3 Coreplex Manual"
"3696": "Determine to read RISC-V Assembly Programmer's Handbook in the User-Level ISA Specification"
"3767": "Good choice to insert the N in CLINT, methinks"
"3782": "That is everything for today"
---
name: "riscy016"
title: "Understanding the Relationship Between the PLIC, mie, and mstatus MIE Bit"
markers:
"18": "Mention John Gustafson's talk on a new way of encoding decimal numbers"
"196": "Set the stage for the day"
"273": "Read about mstatus"
"324": "Haha! I noticed myself doing that and wanted to break the same habit! (Without success, I think)"
"369": "Research the Machine Status Register"
"512": "Consult demo_gpio.c and plic_driver.c and wonder what the machine-external and machine-timer interrupts bits are doing"
"728": "Wonder also why we have a separate Coreplex-Local Interrupts controller"
"875": "Continue reading about the machine-mode status register (mstatus)"
"1227": "Summarise how the mie bit in the mstatus register is being used"
"1296": "Read about privilege levels"
"1472": "Determine that the PLIC only handles global interrupts, and read about local interrupt sources"
"1681": "Read about Interrupt Targets and Hart Contexts"
"1759": "Consult the PLIC diagram"
"1860": "Continue reading about the interrupts in terms of the mip"
"2387": "Note that PLIC_enable_interrupt() and PLIC_disable_interrupt() happen on a per-thread basis"
"2518": "Review the documentation on Machine Interrupt Registers (mip and mie)"
"2813": "Consult the table on mstatus and consider the difference between mip and mie"
"2941": "Return to demo_gpio.c, note that the clear_csr() calls in reset_demo() are not disabling software interrupts, and consider asking why"
"3224": "Skim over demo_gpio.c in general"
"3315": "Heyo"
"3357": "(it's James from the HMN IRC)"
"3364": "Continue skimming over demo_gpio.c"
"3515": "RISC-V Assembly Programmer's Handbook"
"3568": "Read about the Coreplex-Local Interrupts (CLINT)"
"3764": "Read about MSIP Registers"
"3820": "That's all the time we have for today"
---
name: "riscy017"
title: "Studying CLINT"
markers:
"10": "A few words on the webcam position and a tease of some exciting content in the pipeline"
"88": "Recap and consult the SiFive forum reply regarding the clear_csr() calls in demo_gpio.c"
"310": "A few words on updating the Freedom E SDK to commit 3a01ac1"
"428": "Look at the Makefile for demo_gpio.c, and the updated demo_gpio.c itself"
"551": "Consult the commit diffs for the Freedom E SDK"
"1045": "Shout-out to Megan Wachs"
"1082": "Continue consulting the commit diffs"
"1144": "Return to looking at reset_demo()"
"1294": "Read about the machine-mode software interrupts (MSIP) of the CLINT"
"1491": "Read about the Machine Timer Registers in the Privileged ISA Specification"
"1668": "Read about the Timer Registers and consult the CLINT memory map"
"1865": "Read about Memory Privilege in mstatus Register"
"2040": "Hunt for some documentation on the CLINT in the Platform Reference Manual, and read the Introduction"
"2282": "Note that the E300 SoC is optimized for manufacture in a TSMC 180nm process, and again recommend "Indistinguishable From Magic: Manufacturing Modern Computer Chips""
"2337": "Hunt for more documentation on the CLINT"
"2789": "Read about mip and mie again"
"2988": "Read about Local Interrupt Sources"
"3092": "Consult the machine-mode status register table"
"3276": "Begin to understand how demo_gpio.c is setting the machine timers in conjunction with the CLINT Memory Map"
"3418": "Research CLINT_MTIMECMP"
"3728": "Note that we're hardcoding that we're on hart 0"
"3801": "Review how plic_driver.c commonly computes the correct memory locations"
"3926": "A few words on code brittleness and optimisation"
"4035": "Mention that the Freedom E SDK failed to compile, as also mentioned in the SiFive Forums"
"4093": "Shout-out to nonerkao"
"4201": "That's everything for today, with a mention of the twitter schedule"
"4289": "Shout-out to hossein1387"
---
name: "riscy018"
title: "Andrew Waterman & Yunsup Lee Interview"
markers:
"1": "Welcome and introduce Andrew Waterman & Yunsup Lee"
"67": "A highlight reel of life stories before RISC-V"
"82": "Life before RISC-V"
"166": "Life before RISC-V"
"258": "Why decide to create a new ISA?"
"273": "On creating a simple basis for performing research"
"383": "On removing complexity in order to enable development by small teams"
"432": "What drew you specifically to RISC?"
"454": "Necessity"
"519": "On following RISC I and RISC II"
"556": "What appealed to you about having it be open hardware?"
"572": "Openness enables understanding and learning"
"641": "On finding encouragement in the competition of ideas in the open source community"
"777": "On the potential for open hardware enabling schools to teach what the industry actually uses"
"816": "What are you hoping to see happen in the world of RISC-V?"
"831": "A RISC ISA is suitable for many domains of computing, from the lowest to the highest performing computing"
"915": "On the need for customisation with the end of Moore's Law"
"961": "Do you think RISC-V being in anything and everything is an attainable goal, and what markets may RISC-V most thrive in?"
"984": "Embedded systems contain all sorts of chips"
"1041": "New markets"
"1103": "My question is, considering the huge investment that is currently happening in custom chips for AI, how do you think SiFive can attract investors in the field of AI to pay more attention to your platform?"
"1130": "Customisable chips may well serve machine learning research"
"1227": "Evaluation of neural networks will frequently be done in energy constrained environments"
"1271": "Can you tell us a bit about SiFive in terms of what they offer customers?"
"1289": "Democratising access to custom silicon"
"1387": "On the expense of building custom chips using a proprietary ISA"
"1486": "What are the coolest HiFive1 projects you've seen?"
"1501": "Printer controller and Zephyr port"
"1590": "On the community porting the realtime Zephyr operating system to the HiFive1"
"1632": "Will SiFive release products using Freedom Unleashed?"
"1650": "Why build the HiFive1 board"
"1702": "Excitement for a Unix capable RISC-V system coming out relatively soon"
"1721": "Any resources to recommend for learning about RISC-V or open hardware in general?"
"1733": "The RISC-V User-Level ISA Specification and two text books coming out this year based on Computer Organization and Design and Computer Architecture: A Quantitative Approach"
"1795": "Graduate-level course at Berkeley"
"1885": "Plug Berkeley's use of RISC-V in the classroom"
"1925": "What advice do you have for those looking to get involved in the RISC-V community?"
"1944": "If you want to learn how computers work, RISC-V is a good resource"
"2067": "There's a lot of work to be done on compilers, operating systems, software, microarchitecture, etc"
"2104": "Is there any plan for MOOC (massive online open courses)?"
"2145": "On Berkeley possibly teaching CS61C as an online course"
"2157": "Point out the SiFive Forums as a good resource"
"2172": "Shout-out to Megan Wachs"
"2195": "Give it a minute to see if some questions pop up"
"2258": "Suppose that is everything, but wait..."
"2279": "What is your answer to Linus Torvalds when he said ISA is not important and it's the community around ISA that matters?"
"2295": "On ISAs not mattering, especially in high end computing"
"2368": "Why not RISC-V if instruction sets don't matter?"
"2390": "It takes a village, so if you have resources to help port to RISC-V, pitch in!"
"2403": "I missed the start, but I was wondering: Do you personally have anything you'd like to see RISC-V users do that isn't necessarily endorsed or endorsable by SiFive?"
"2428": "The more implementations there are, the better the project will be for everyone"
"2503": "It gets stronger the more people look at it"
"2577": "That's the end for real"
---
name: "riscy019"
title: "Investigating handle_m_time_interrupt"
markers:
"8": "Recap and set the stage for the day, with a special shout-out to Andrew Waterman"
"185": "Dive back into demo_gpio.c and look into setting mtimecmp to operate on an arbitrary thread"
"288": "Understanding shifting with relation to the memory addresses"
"541": "Jumping in increments, using multiplication"
"704": "A few words on traditional mathematics vs bitwise operations"
"841": "Continue reading reset_demo()"
"957": "Refresh our memories on the Real-Time Clock frequency"
"1298": "Consult the documentation on mtime and mtimecmp"
"1490": "Read deeply about the Real-Time Clock"
"1790": "Wonder why we have both the RTC and the CLINT's mtime and mtimecmp methods"
"1894": "Come to understand handle_m_time_interrupt() in demo_gpio.c"
"2091": "Investigate how it knows to call handle_m_time_interrupt(), and remain bamboozled"
"2407": "The handle_m_time_interrupt() is defined in init.c"
"2436": "Find handle_m_time_interrupt() in env/freedom-e300-hifive/init.c and investigate what it compiles down to"
"2610": "Discover that handle_trap() is responsible for calling handle_m_time_interrupt()"
"2837": "Consider how trap_entry is working"
"2989": "Okay, I think I know what's happening. The trap_entry is defined in entry.S"
"3050": "Find a handle_trap call in env/entry.S"
"3094": "Also take a look at start.S in the same folder"
"3111": "Summarise how handle_trap() works"
"3219": "Begin to understand env/start.S"
"3229": "Program entry point"
"3279": "Our actual entry point in start.S"
"3375": "We will continue tomorrow"
---
name: "riscy020"
title: "Studying GPIO & The Config String"
markers:
"8": "Recap some off-stream work looking for the definition of __start()"
"98": "Recap what we discovered about handle_m_time_interrupt() last time"
"239": "TODO: Dive into __start + entry.S"
"305": "Set the stage for the day"
"373": "I had a look at link.lds (located at freedom-e-sdk/bsp/env/freedom-e300-hifive1 which provides stack size and other stuff) but it does call _start"
"414": "Consult link.lds"
"524": "Come to understand handle_m_ext_interrupt()"
"959": "Research the GPIO"
"1044": "Consult the GPIO pin layout"
"1171": "Determine to understand the GPIO_REG macro"
"1297": "Point out the GPIO pins on the HiFive1"
"1390": "Continue reading env/hifive1.h"
"1505": "Find the GPIO_REG() and _REG32() macros in env/freedom-e300-hifive1/platform.h"
"1629": "Read about the General Purpose Input/Output Controller (GPIO)"
"1787": "Read the Machine Configuration Description"
"2248": "From what I know, device tree is the way to tell Linux / OS what hardware we are using"
"2292": "Read about Device Tree"
"2621": "Continue reading about the Configuration String"
"2718": "Consult the table detailing the overall memory map of the E3 Coreplex"
"2755": "Enable print_instructions() to print the information following the configuration string address"
"3073": "Continue studying the GPIO"
"3261": "Using XOR to invert"
"3417": "Briefly consult the diagram detailing the structure of a single GPIO Pin with Control Registers before reading on about the GPIO"
"3716": "GPIO"
"3832": "We are out of time for today"
"3932": "I tried to print the config"
"3953": "It didn't work out"
"3993": "It's all garbage"
"4021": "{ model = "SiFive,FE310G-0000-Z0"; compatible = "sifive,fe300"; /include/ 0x20004;};"
"4122": "Can you also try? I want to know if there is a serial number or something"
"4151": "Wind it down"
---
name: "riscy021"
title: "Exploring the Config String Memory with the HiFive1"
markers:
"7": "Recap and set the stage for the day"
"27": "Show some off-stream work, compiling the Freedom E SDK"
"80": "Sorry, I can't stay to watch the stream... gotta go to bed"
"97": "Determine to add the HiFive1 Getting Started Guide to the forum post"
"157": "Upload our program to the HiFive1"
"265": "Note that we'll be printing garbage to the terminal"
"316": "Reset the board to run our program, with unexpected output"
"371": "Consult the annotations for how to kill screen"
"574": "Kill screen and run make again"
"621": "Cast config_string to an int and make and upload it again"
"683": "Investigate errors"
"738": "It usually goes away after a reset"
"744": "Reset and try uploading again"
"785": "Run our program and view the output"
"883": "Change print_instructions() to compute the len differently"
"927": "Yeah, I change it to: size_t len = 0x00001010 - sizeof(config_string);"
"990": "Consult the documentation for the configuration string length"
"1062": "Remake, upload and run our program"
"1175": "Try what hossein1387 suggested"
"1223": "Run and admire our output"
"1337": "Consult the documentation on cs-v1"
"1501": "Take a look at Privileged doc: Chapter 8"
"1557": "Read about the Machine Configuration Strings"
"1969": "Determine to update print_instructions()"
"2060": "Yeah, I also tried it with strlen. It gave me the same result"
"2114": "Research strlen() vs sizeof() for a char *"
"2289": "Update print_instructions() to search for the config_string and then output its length"
"2399": "Make and upload our program"
"2490": "Run our program and determine to ask on the forums why we get so much error and info output"
"2692": "Unplug, replug and upload again"
"2723": "Run our program, see no output and investigate why"
"2871": "Consult the "
"2949": "Remove the loop from print_instructions(), and run again"
"3042": "Investigate the values known by print_instructions()"
"3176": "Run our program and see now output from that either"
"3206": "Test printf()"
"3286": "Determine that printf() is not implemented"
"3316": "I have worked with the risc-v64 GCC and I used printf. Works there, but here it's not working"
"3360": "Oh by the way, I programmed my FPGA with a RISC-V core and wrote a simple program to get the config string at the same memory location as HiFive1 (0x0000100c), but it gave me processor halt. So I think the address is platform dependent"
"3439": "Take a look at other demos, and wonder why we can't use printf() in demo_gpio.c"
"3522": "Try the hello demo"
"3613": "Run the hello demo and also see no output"
"3639": "We are out of time for today, with very many questions"
"3673": "One more thing I tried: char* config_string = 0x0000100c + 0x20004; which crashed the program. I also tried: char* config_string = 0x20004; which printed out garbage"
"3695": "Consult the documentation for #include and configuration string"
"3967": "Stay RISCY, everyone"
---
name: "riscy022"
title: "Fun with Pointers & Printing"
markers:
"19": "Recap and set the stage for the day"
"45": "Consult DrewatSiFive's reply to the forum post"
"207": "Pointer assignment"
"526": "The Privileged spec is up in the air"
"586": "printf"
"740": "Run the hello world program to determine that we have a working printf()"
"797": "Yeah, it works for me too. Magic"
"813": "Fix up the *config_string assignment in print_instructions()"
"1005": "Consult man 3 fflush and man 2 write"
"1123": "Comment out the fflush(), make clean, compile and upload"
"1173": "Run our demo_gpio.c program and view the output"
"1238": "Change the printf() to print a string"
"1469": "Run and see no output"
"1522": "Compare the difference between printf() in gpio_demo.c and in hello.c"
"1606": "Compare the Makefiles"
"1646": "Can you try to clean your env? Because it works for me"
"1670": "Run make software_clean and remove the fflush()"
"1725": "Run the program to see inconsistent writing"
"1774": "I tried this in beginning of print_instructions(): unsigned char * ConfigString = (unsigned char*)*(volatile uint32_t *) 0x0000100C; printf("%s", ConfigString);"
"1840": "Consult man 3 printf"
"1911": "Make printf() print the address of config_string"
"1957": "Run our program and view the output"
"2091": "Note how inconsistent the writing is"
"2139": "Consult man 3 printf again"
"2273": "Try casting config_string to void*"
"2380": "Run our program and receive the same address"
"2402": "Set config_string without casting"
"2450": "Run and receive the 0x100c address we were expecting"
"2546": "Set config_string with the cast again"
"2640": "Run our program to see our output, with a few words on pointer dereferencing"
"2720": "Remember switching the jumper"
"2866": "Run and view our output"
"2882": "Try to make print_instructions() write out the config_string using write()"
"2921": "Run the program and view our correct config_string output, with a few words on where we got the config_string location"
"3011": "Try printing from 0x00020004"
"3215": "Run the program to see nothing at that memory location"
"3258": "Consult the Pinout diagram in the Getting Started Guide"
"3471": "Read about the HiFive1 Boot Sequence"
"3583": "Read about OTP Contents"
"3749": "Try to print the Board Identifier"
"3935": "Run our program and see garbage output"
"3962": "Try to verify that 0x100C prints"
"4064": "Run the program to see that it worked, and determine that the Board Identifier is not a string"
"4181": "Try to printf() the board_id as an unsigned int"
"4340": "Run our program to see some output"
"4396": "Try to printf() the board_id as a char, cast to an int"
"4460": "Run the program and hit a trap"
"4506": "It's a trap!"
"4511": "Try to print the board_id as an int, cast to an int"
"4545": "Run the program and hit a trap again"
"4599": "That's all that we have time for for today"
"4613": "I tried to setup gdb for the board, but I got my OpenOCD all screwed up. I think gdb is very useful in these situations"
"4721": "Stay RISCY, everyone!"
---
name: "riscy023"
title: "Searching Raw Memory for Unix Timestamps"
markers:
"6": "Recap and set the stage for the day"
"40": "Enable print_instructions() to print the board_id as a dereferenced int pointer"
"154": "Run the program to see our possible board_id"
"268": "Read man 3 printf"
"301": "Enable print_instructions() to print the board_id as a %X"
"328": "Run the program to see the same number"
"368": "Enable print_instructions() to print the board_id cast to a short"
"449": "Run the program to see a different board_id"
"532": "The print for clock frequency is also bad"
"583": "No, I meant when the board printed out the value, the frequency was 600MHz"
"610": "Run the program to confirm the core frequency"
"694": "Consult man 3 printf, and wonder whether the instability of the core frequency causes problems"
"780": "Hazard a guess as to what the Unix timestamp for our board may be"
"895": "Enable print_instructions() to print the board_id cast to an int"
"939": "Run our program to view the output, and compare it with our guess"
"1065": "I am getting around the same numbers"
"1102": "I am getting ed93db27"
"1134": "Consult the table for the OTP Contents and see if the board_id is documented in the Freedom E310-G000 Manual"
"1315": "I used uint64 and I got 12 Jun 1976"
"1376": "Try to convert ED93 to human date"
"1438": "Oh, that's the Unix base date. January 1 1970, isn't it?"
"1462": "Consult Wikipedia on Unix time"
"1592": "Consult the table for the OTP Contents"
"1718": "Enable print_instructions() to print the address and value of everything from 0x1004 to 0x1FE4"
"1948": "Run our program and view the output"
"2019": "Pass both parameters to the printf() call in print_instructions()"
"2085": "Run our program to view the correct output, and attempt to spot a plausible Unix timestamp amongst it"
"2414": "Ask hossein1387 to print the hex value at 0x1634"
"2433": "Convert our value into a timestamp and consider this to be too early"
"2525": "I have the exact same value as you"
"2550": "Enable print_instructions() to print from 0x1FE4 to 0x1FEC"
"2661": "Run our program and see the output from one iteration"
"2801": "Try to enable print_instructions() to print further"
"2833": "Run our program to see less output"
"2897": "Enable print_instructions() to print further"
"2968": "Run our program to see a little more"
"3034": "I can print from 0x0004 up to 0x2000, but 5714ae28 is the only valid one from what I can see"
"3073": "Make clean, and run our program to see two iterations, 16 bytes apart"
"3252": "Try printing the lower end"
"3288": "Run our program to see that it was also printing 16 bytes apart there"
"3394": "Increment the board_id pointer by one byte"
"3467": "Run the program to view our more complete output, and attempt to spot a plausible Unix timestamp amongst it"
"3584": "Enable print_instructions() to only print out values between 0x57000000 and 0x58000000, but from a larger range in memory"
"3790": "A few words on the value of what we're doing, including pointer arithmetic"
"3849": "Run the program to view our one hit, conclude that we do not have a reasonable Unix timestamp in that memory region, and report this on the forums"
"4057": "We are out of time for today"
---
name: "riscy024"
title: "Reading about GPIO"
markers:
"7": "Plug SiFive's shout-out of the interview with Andrew and Yunsup"
"22": "Consult the forums for Megan's advice on finding the OTP"
"91": "Consult the forums for Megan's advice on enabling the HiFive1 to reliably start our programs"
"269": "Open our files"
"522": "Enable uart_init() to perform a busy loop"
"819": "Run our program to see similarly sketchy outputting behaviour"
"848": "Enable uart_init() to loop over INT_MAX"
"1038": "Run our program, see no blinking lights and wonder why"
"1231": "See the lights, the let the program run for a little bit"
"1288": "Try looping over INT_MAX on the dev machine"
"1341": "Run our test and estimate that it took five seconds"
"1376": "See the properly printed output of print_instructions()"
"1385": "Try to make uart_init() loop over a smaller number"
"1454": "Run our program and see that that worked perfectly"
"1497": "Enable print_instructions() to print out the data at 0x21FE4"
"1560": "0x7FFF. I thought it would be 0xFFFF"
"1621": "Self-plug the episode on ripple carry adders"
"1670": "Continue with print_instructions()"
"1702": "Run our program and see a potentially valid Unix timestamp"
"1758": "Note that the OTP content locations are offsets"
"1832": "Consult the Platform Reference Manual on the E300 Platform Memory Map"
"1890": "Consult the E3 Coreplex Memory Map table for the address of the OTP read port"
"1969": "Well, it appears to be 0x7FFFFFFF or 1 << 31 - 1"
"2005": "Recap the intuition on two's complement, that you count with zeros"
"2082": "Report the value at 0x21FE4 in the forums"
"2226": "Request for viewers' board ID values at 0x21FE4"
"2291": "Yeah, I don't have the SDK installed yet, so I'll have to report back"
"2312": "Scan quickly through the manuals looking for GPIO documentation"
"2475": "Read about General Purpose Input/Output Controller (GPIO) in the Platform Reference Manual"
"2822": "Read about level-triggered and edge-trigger interrupts on Wikipedia in conjunction with Megan's post about how the UART works"
"3071": "Continue reading about the GPIO's Interrupts in the Platform Reference Manual"
"3281": "Research GPIO pull-up"
"3425": "Continue reading about Internal Pull-Ups and the remaining information about Interrupts in the Platform Reference Manual"
"3627": "We are out time for today"
---
name: "riscy025"
title: "Studying the OTP"
markers:
"8": "Recap with the determination to follow Megan's advice to print out the entire OTP Contents"
"133": "Enable print_instructions() to print the entire OTP Contents"
"501": "Run our program to see how our OTP Contents compares with the Default OTP Contents table"
"720": "Make print_instructions() print the OTP start, and from the board identifier to the OTP end"
"812": "Run our program to see our incorrectly read output, consider that our board is running too fast and report our findings"
"1153": "Scan the documentation for OTP information"
"1270": "Read about One-Time Programmable (OTP) Memory in the Platform Reference Manual and the E3 Coreplex Manual"
"1626": "Read about the IOREF Jumper in the Getting Started Guide"
"1760": "Continue reading about the OTP"
"1950": "Consult Megan's reply, suggesting to try the led_fade demo"
"2068": "Read the remaining documentation on the OTP's Programmed-I/O lock register and Programmed-I/O Sequencing"
"2495": "Try Megan's suggestion, to use the led_fade demo as a basis for printing the OTP Contents"
"2751": "Run our program to see some reasonable values, and compare them with the Default OTP Contents table"
"2842": "Discover when our board was burned, post this information on the forums and note that the OTP needs to be read at 16MHz or while using the clock divider"
"2951": "Continue to compare our values with the Default OTP Contents table and post our complete OTP Contents"
"3304": "OTP read sequence"
"3607": "OTP lock sequence"
"3847": "That's everything"
---
name: "riscy026"
title: "Studying LED Inversion via GPIO"
markers:
"5": "Recap and set the stage for the day"
"65": "Consult the forums and switch to the updated Getting Started Guide"
"366": "Announce patches to the Arch User Repository hifive1-sdk package"
"620": "Plug Bruce's experimentations with bit banging"
"916": "Consider investing in a 2.8" TFT Touch Shield"
"1127": "Determine to learn how to control LEDs, and look at our TODOs"
"1237": "Scan through demo_gpio.c for code pertaining to the LEDs and bit banging"
"1544": "Our goal: To be able to disassemble and understand every instruction"
"1626": "Review our understanding of demo_gpio.c"
"1818": "Closely read handle_m_time_interrupt() with a view to understanding how it controls the LEDs"
"2213": "Marry up the LED offsets in code with the documentation"
"2484": "Hunt for the GPIO_OUTPUT_VAL"
"2815": "Find the GPIO_OUTPUT_VAL address"
"2982": "Come to understand how the register offsets work"
"3103": "Research how the GPIO_REG(GPIO_OUTPUT_VAL) call in handle_m_time_interrupt() sets the LED colour, wondering how it sets intensity"
"3631": "Peruse the Platform Reference Manual on Input / Out Values and Interrupts"
"3843": "Continue to research how the GPIO_REG() calls control the LEDs"
"4195": "Read about Output Inversion and Input / Output Values"
"4420": "Determine to test what happens when commenting out the GPIO_REG(GPIO_OUTPUT_EN) call and the leds variable"
"4505": "We are out of time today"
---
name: "riscy027"
title: "Diving Into Pulse Width Modulation"
markers:
"7": "Recap and set the stage for the day"
"128": "Try commenting out the leds variable initialisation in gpio_demo.c"
"318": "Run our program, see the blinking lights and consider the leds variable to be dead code"
"363": "Try commenting out the GPIO_REG(GPIO_INPUT_EN) call"
"465": "Run and see that this makes no difference either"
"491": "Try commenting out the GPIO_REG(GPIO_INPUT_EN) call"
"564": "Run and see that the LED does not light up now"
"655": "Determine to look at setting the LED intensity"
"788": "Take a brief look at the GPIO_REG(GPIO_OUTPUT_EN) bit-banging"
"992": "Research LED-related functionality in led_fade.c"
"1215": "It is setting the output to be inverted"
"1270": "Read about HW I/O Functions (IOF)"
"1438": "Because in the schematic of GPIO the xor is in the pin data path, in other words, you have the option to invert the pin value by hardware, you can obviously do the same thing in software"
"1545": "Consult the figure detailing the structure of a single GPIO Pin with Control Registers, wondering why you invert the output using a separate register"
"1603": "No, it's pretty standard in ARM and other mcus"
"1683": "Read about HW I/O Functions"
"1763": "I think it is because of performance, because bit operation in C needs a couple of instructions to do the same thing while you can just setup a register to do that for you in hardware"
"1868": "Determine to learn about the PWM"
"1985": "IOFs are to set the functionality of the pin. Because you just have a few physical pins on your chip, you can't have a pin to do only GPIO or UART or SPI or PWM. So the IOF selects what functionality you want from that pin"
"2111": "Read about the Pulse-Width Modulation (PWM) Peripheral"
"2344": "Wonder if we can send different intensities over a pin"
"2492": "Continue reading about the PWM"
"2528": "No, the output is only 0 or 3.3/5 (digital). The PWM is just a pulse wave but you can tell it how long to be on or off. This way the average out put is no longer 0 or 5 but anything in between"
"2588": "Wave sampling and generation"
"2778": ""
"2855": "If you look at the image, the PWM value is only 1 or -1, but the red line is the average"
"2960": "One more thing to look is: the width of the pulse, if the pulse is 50% 1 and 50% 0, the average is 0"
"2999": "Research pulse-width modulation"
"3352": "Yup, but I don't know the third state you were talking about"
"3408": "No, we don't have negative voltage, so it's 0 or 3.3v / 5v"
"3672": "Okay, so for the pin to detect 1 in binary the pin voltage should be within a threshold, say 3v-3.3v; for binary 0 it should be between 0v-0.5v and the in between voltage is not valid. Meaning any binary value can be assigned"
"3741": "The voltage threshold is dictated by the CMOS process"
"3811": "Continue to research pulse-width modulation"
"4254": "Determine to sleep on this"
---
name: "riscy028"
title: "Studying PWM"
markers:
"8": "Recap and set the stage for the day, learning pulse-width modulation"
"176": "Yes, it is an oscilloscope"
"218": "Show off Computer Organization and Design"
"344": "Watch video on controlling LED brightness using PWM"
"1181": "Take notes from accompanying article on Controlling LED brightness using PWM"
"1796": "Summarise the concept of pulse-width modulation that we care about"
"2017": "PWM Resolution"
"2127": "Read about Timing the Interrupt"
"2317": "Continue reading about PWM"
"2762": "Read about the PWM Configuration Register"
"3043": "Consult led_fade.c to see how it sets up the RGB PWM"
"3140": "Continue reading about the PWM Configuration Register"
"3660": "Note that the led_fade.c does not seem to be setting the pwmzerocmp bit"
"3692": "We are out of time for today"
---
name: "riscy029_1"
title: "PWM & The LED Fade Demo (1/2)"
markers:
"6": "Recap and set the stage for the day"
"36": "Read about the PWM Compare Registers"
"406": "Consult the diagram and text on Generating Left- or Right-Aligned PWM Waveforms"
"628": "Summarise how the counter works in the PWM compare register"
"980": "Continue reading about left- and right-aligned waveform generation"
"1359": "Consult the circuit diagram for the E300 PWM Peripheral to try and determine what's creating the waveform output"
"1798": "Note that having XOR for GPIOs built in to the hardware is a convenient way to make left-aligned waveforms"
"1843": "Consult the table of pwms and pwmscenter values, and read about Generating Center-Aligned (Phase-Correct) PWM Waveforms"
"2433": "Read about Generating Arbitrary PWM Waveforms using Ganging, Generating One-shot Waveforms, and PWM Interrupts"
"2675": "Consult led_fade.c for how it sets up the RGB PWM, with a few words on light receptors in the human eye"
---
name: "riscy029_2"
title: "PWM & The LED Fade Demo (2/2)"
markers:
"1": "Resume, overdubbing the audio"
"32": "Hypothesise that we may see that the individual LEDs are not synchronised in a slowed down video of them lighting up"
"147": "Continue reading about how led_fade.c aligns the waveform"
"258": "Read through how led_fade.d uses the PWM hardware to control the LEDs"
"461": "How led_fade.c controls the LEDs every cycle"
"726": "Read the user input code in led_fade.c"
"1023": "Determine to get a good understanding of the pattern changing code, and the compare registers shenanigans"
---
name: "riscy030"
title: "Studying the LED Fade Demo Code"
markers:
"7": "Recap and set the stage for the day"
"106": "Learn the LED colour fading logic in led_fade.c"
"273": "Consider investing in a second webcam for the HiFive1"
"356": "Upload led_fade.c to the HiFive1 and run it to eyeball the LED fading"
"481": "Confirm that it is doing the logic we expected"
"527": "Determine to understand how the PWM1_REG() calls manipulate the PWM Configuration Register"
"1022": "Marry up the register offsets and constants defined in devices/pwm.h with the documentation"
"1523": "Consult the Freedom E310-G000 Manual for the base address of the config register"
"1711": "Determine that we are sending three different signals, one for each LED channel"
"2103": "Read the PWM1_REG() macro and marry up the defined PWM1_BASE_ADDR with the documentation"
"2280": "Come to understand how the PWM1_REG() calls manipulate the low 16 bits of the PWM Compare Register"
"3032": "Learn that pwmcmp0 sets the width of the duty cycle and that pwmcount resets to zero at the end of every PWM cycle"
"3176": "Go over the PWM Compare Registers another time"
"3354": "Note that the signal is high most of the time"
"3517": "Think about the logic of those PWM1_REG() calls"
"3758": "Determine to draw out the LED's waveform"
"3803": "We're out of time for today"
---
name: "riscy031"
title: "Confusion over our PWM signals"
markers:
"8": "Recap and set the stage for the day"
"47": "Outline the confusion surrounding the apparently inverted pulse-width modulation of the LED"
"204": "Refresh ourselves on Generating PWM Waveforms"
"568": "The PWM waveform our code generates for the green signal in PWM_CMP1"
"1095": "Consult the code for the blue and red channels"
"1328": "Consult LED datasheets for the HiFive1"
"1675": "Consult the datasheets for other LED peripheral"
"2146": "Read about driving LEDs"
"2546": "Read about software brightness modulation"
"2720": "Read about Color control - software modulation"
"3122": "Determine to ask on the forums what's going on with the LEDs"
"3323": "Thanks"
---
name: "riscy032"
title: "Understanding Left & Right Aligned Waveforms"
markers:
"7": "Recap and set the stage for the day"
"27": "Hello!"
"58": "Consult Megan's explanation of the PWM code in conjunction with the documentation"
"249": "Determine to experiment with the code, with a view to understanding the PWM better"
"273": "I had never seen a right-aligned diagram, I think. Weird"
"350": "Ah, it's not the diagram, it's the PWM in the device"
"362": "Try to enable only the green LED to light up"
"475": "When you said there were some modes where it was "center aligned", I thought that in the diagram the time flowed from left to right as usual ("left aligned"), and therefore the unexpected transitions had to do with the behavior of the PWM in the device, and not an issue in the documentation diagrams"
"568": "I think you are assuming correctly"
"576": "Try setting G to 0x0 in order to keep the LED at a constant brightness"
"762": "Upload out program, run it, and do not see a light"
"825": "Change G to 0xFF and run"
"913": "Run and now see the green light"
"941": "Set G back to 0x0 and invert the output"
"979": "Run and see a fully bright green light, as a right-aligned waveform"
"1037": "Set G to 0xFFFF, run it and see that the LED is off, as expected"
"1080": "Experiment with generating a centre-aligned waveform"
"1186": "Run and see it lit up, with G = 0xFFFF"
"1205": "Note that only the duty cycle matters to us, not the alignment, and describe what the code for Red is doing"
"1287": "Try applying to G the code for red"
"1436": "Read into generating centre-aligned waveforms"
"1614": "The mathematics of centre-aligned waveform generation"
"1825": "You mean 7FFF?"
"1846": "Counting from 0 → 0x7FFF"
"1916": "It depends on what you mean. If it counts until the MSB but not including it then it would be 0x7FFF"
"1958": "The values count up until the MSB is set, and then back down"
"2093": "I'll check the source code for the hardware"
"2124": "Read the documentation on PWM Compare Registers"
"2274": "How n centre-aligns the waveform"
"2424": "An example centre-aligned waveform when n is within the range 0 to 0x7FFF"
"2891": "Determine to understand why the extra << 1 is required"
"2970": "An example centre-aligned waveform for n >= 0x8000"
"3107": "An example left-aligned waveform for n == 0xFF0"
"3380": "Set G = 0xFF0"
"3410": "Our perception of brightness is not linear, so that might explain it"
"3423": "Upload our program and run it to see that it's not as bright as the full brightness"
"3456": "I can check the actual PWM with my oscilloscope"
"3490": "Okay. Is your code online?"
"3569": "An example centre-aligned waveform when n == 0xFF0, which << 1 would presumably make brighter"
"3776": "The previous waveform, inverted"
"3827": "Review our newfound understanding with a request to luismarques83 to tweet the findings"
---
name: "riscy033"
title: "Understanding Center Aligned Waveforms & Searching For __atomic_fetch_xor"
markers:
"7": "Recap and set the stage for the day"
"60": "Shifting << 1 in order to produce a centre-aligned waveform"
"215": "Try setting G to 0x8000, centre-aligned"
"302": "Run the program and see a light, to determine that the value gets inverted at 0x8000"
"337": "Try setting G to 0x7FFF and run to see it lit, but a little dimmer"
"443": "Determine that the code is shifting the wrong way, and change it to shift right"
"533": "Run the program, and see that the brightness is uniform"
"616": "Determine that we fully understand PWM, and to review demo_gpio.c"
"677": "Review demo_gpio.c"
"767": "Note that we don't understand bit-banging, or know about atomic_fetch_xor_explicit()"
"984": "Consult the documentation for atomic_fetch_xor_explicit"
"1142": "Look into how we call atomic_fetch_xor_explicit() and read about memory_order"
"1884": "Hunt the Freedom E SDK for our atomic_fetch_xor_explicit()"
"3802": "Hunt the GCC source for the __atomic_fetch_xor() built-in"
"4108": "We are out of time for today, with the determination to continue investigating this"
---
name: "riscy034"
title: "Learning about the UART"
markers:
"9": "Recap and set the stage for the day"
"61": "Note Miblo's suggestion to use ctags to find function definitions, and continue the hunt for __atomic_fetch_xor()"
"297": "A few words on software emulation of features commonly associated with hardware"
"381": "Continue the hunt for __atomic_fetch_xor() in the GCC source code"
"738": "A few words on compilers performing their built-in operations in some cases, and falling back to your code in others"
"922": "Continue the search for __atomic_fetch_xor()"
"1364": "TODO: Read disassembly of an __atomic_fetch_xor to see what it does"
"1520": "Return to demo_gpio.c, recap our high level understandings and determine to study the UART"
"1824": "Read about the Universal Asynchronous Receiver/Transmitter (UART)"
"2407": "A few words on the terminology "watermark" as a threshold"
"2505": "Continue reading about the UART"
"2861": "UART"
"3118": "Consult the code for usages of the UART"
"3362": "Study uart_init() in init.c"
"3465": "Solve for div in the baud rate formula"
"3592": "Note why Casey writes higher precedence operators without a space around them"
"3624": "Continue studying uart_init()"
"3732": "Find Megan's reply regarding the LED brightness"
"4021": "Consult Megan's reply regarding the UART line dropping low, and the reason for the busy loop in uart_init()"
"4161": "Consult table 12.2 on common baud rates"
"4256": "Wonder if the error in the baud rate would cause transmission to drift"
"4314": "We're out of time for today, with a note of the June 1 stream being moved to 23:00 CDT and hopes that insobot will be smart enough to pick up the rescheduling"
---
name: "riscy035"
title: "uart_init, get_cpu_freq, & `static` Legalese"
markers:
"7": "Recap and set the stage for the day"
"150": "Consult Table 7.1: HiFive1 GPIO Offset to Board Pin Number, and locate the definition of IOF0_UART0_MASK"
"377": "Return to uart_init() and determine to understand how IOF0_UART0_MASK is being used"
"514": "Refresh our memory on the GPIO Complex and HW I/O Functions (IOF)"
"649": "Assume the layout of the IOF select register"
"849": "Consult the annotations for IOF"
"1064": "Refresh our memory on the IOF masks for the LEDs"
"1298": "Match up our IOF0_UART0_MASK in code with the documentation"
"1523": "Critique the clarity of using masks instead of offsets for UART0"
"1749": "Consider what the static keyword does in terms of zero initialisation"
"2496": "Consult the C11 spec for the default initialisation rule of locally scoped static variables"
"3188": "Read section 5.1.2 "Execution environments" in C11 spec, and determine to confirm with SiFive whether their static implementation does zero initialise"
"3416": "Read about how the uninitialised .bss segment in Linux executables, which holds global and static variables, initialises variables to zero"
"3479": "Recommend not explicitly initialising static and global variables to 0 to save some space"
"3544": "Ask in the forums where it is defined how uninitialised variables with static storage duration are initialized for the HiFive1"
"3918": "We are out of time for tonight"
---
name: "riscy036"
title: "BareD, Story Time, & measure_cpu_freq"
markers:
"8": "Recap and set the stage for the day"
"57": "Consult forum responses regarding zero-initialisation"
"194": "Mention an upcoming collaboration with RiskyFive"
"367": "Walk through BareD"
"602": "BareD's cstr.d"
"786": "BareD's platform.d"
"1127": "BareD's ldc_linux_x86_64.d"
"1580": "Plug "Writing C software without the standard library: Linux Edition""
"1667": "Recount experience programming Piworld in TI_BASIC assembly"
"1949": "The origin story of riscy"
"2043": "Read through get_cpu_freq() in init.c and study measure_cpu_freq()"
"2360": "Marry up the value returned by get_timer_freq() with the documentation on RTC Count Registers"
"2548": "Marry up mtime_lo() and mtime_hi() with the CLINT documentation"
"2860": "Skim through the Control and Status Registers documentation"
"3140": "Read 3.1.15 Hardware Performance Monitor, on mcycle"
"3387": "Summarise what the mcycle is, and relate it to measure_cpu_freq()"
"3547": "Don the Thinking Cap with the determination to work through the CPU frequency formula on the whiteboard"
---
name: "riscy037"
title: "Fun with Fixed Point Math"
markers:
"9": "Recap and set the stage for the day"
"63": "Don the thinking cap"
"98": "Working through the cycles-per-second formula for measure_cpu_freq()"
"972": "Check our formula with the one in measure_cpu_freq()"
"1126": "Reverse engineer the cycles-per-second formula"
"1222": "They are basically doing fixed point math"
"1262": "Computing the decimal portion of a real number in fixed point mathematics"
"1318": "Instead of doing float x = 3.14, you do int x = 314 and the point is implicit"
"1402": "Notice that in one part you have / and then you have another part that is nearly equal but uses %"
"1537": "Determine to work through an example on the whiteboard"
"1594": "Use a spreadsheet or C program, to make it easier to compute other values"
"1626": "Plug some example values into our cycles-per-second formula"
"2464": "Summarise how this fixed point calculation works"
"2567": "I can explain it another way"
"2629": "Just forget everything after the + to start with"
"2756": "Say we have 200 cycles (delta_mcycle). We divide by the ticks (delta_mtime). So now we have number of cycles per tick. We multiply by the number of ticks per second (mtime_freq) so now we have cycles per second"
"2877": "Pose the question: How does n % m / m give the decimal part of the number?"
"2969": "So 201 cycles / 10 ticks = floor(20.1) cycles per tick. We take the 20 and multiply by, say, 100 ticks per second so we have 2000 cycles per second"
"3006": "201 % 10 = 1. Multiply by 100 and divide by 10 we get 2010 cycles per second, and we recover the part we lost in the division"
"3022": "The relationship between a remainder and a decimal"
"3236": "Read about reciprocal"
"3391": "delta_mtime is what determines what the conceptual decimal point is. Say delta_mtime = 100, if you do x % delta_mtime and get 33, then the 33 means you don't have a whole delta_mtime unit. But after you multiply it by something you might get >= 100, so when you divide by delta_mtime again you get >= 1"
"3461": "Is it true that n % m / m = 1 / m % m"
"3605": "Think of delta_mtime as being a percentage. If you get 0.33 that's 33%. You will only get an integer again if you cross the 100% line"
"3681": "Determine to sleep on this to fully understand it"
---
name: "riscy038"
title: "Understanding measure_cpu_freq, get_cpu_freq, & uart_init"
markers:
"7": "Recap and set the stage for the day"
"144": "Converting a remainder into a decimal"
"619": "Apply the measure_cpu_freq() equation to the specified speeds of our HiFive1"
"1207": "Work back through the equation to determine the exact speed of our chip"
"1398": "Perform integer division with the correction term on our speeds"
"1624": "/me slips into le stream"
"1627": "Continue with the integer division"
"1793": "Try to rearrange the calculation avoiding the correction term"
"1926": "Ask on the forums why we couldn't just rearrange the computation"
"2225": "Does their code handle an arbitrary number of decimal places, while ours can't, perhaps?"
"2344": "Review our understanding of init.c and resume studying uart_init()"
"2619": "Read about the Transmit Control Register"
"2800": "Determine that we fully understand uart_init() and look at the UART0_REG() macro"
"3028": "Marry up the UART_REG_DIV and UART_REG_TXCTRL macros with the documentation"
"3107": "Return to demo_gpio.c and hunt for the write() function called by print_instructions()"
"3445": "Consult man gcc and man ld to learn how --wrap works"
"3574": "Read __wrap_write() and __wrap_isatty()"
"3679": "Hunt for our copy of unistd.h"
"4140": "Read the standard file descriptors in posix/unistd.h"
"4205": "Continue studying __wrap_write()"
"4312": "We are out of time for today"
---
name: "riscy039"
title: "__wrap_write"
markers:
"0": "Recap and set the stage for the day"
"15": "Consult Bruce's reply regarding the measure_cpu_freq() computation"
"107": "Hey"
"113": "Determine to figure out how we could force measure_cpu_freq() to cause an integer overflow"
"321": "Calculating the maximum value of delta_mcycle"
"351": "32768 is a power of 2, so just subtract log2(32768) bits from 32 bits?"
"378": "Continuing that maximum delta_mcycle calculation"
"405": "log2(x) is how many bits are needed to represent x"
"426": "Continuing that maximum delta_mcycle calculation"
"596": "Notice that 131072 is also a power of two"
"606": "Convert our calculated value to hex"
"742": "Google does log2"
"754": "Perform log2 on our hex value, and then try RiskyFive's original computation"
"926": "Calculating the maximum number of ticks we can support"
"1045": "If your max representation is 10,000,000, and you are thinking how many times you can fit 1000, you just subtract log10(1000)=3 from log10(10,000,000)=7; 7-3=4; 10^4 = 10,000. You can fit 1000 10,000 times in 10,000,000"
"1117": "Yay for decimal"
"1123": "Continue calculating the maximum ticks our proposed code would support"
"1363": "Reflect on the relative robustness of the official code, and give Bruce a like"
"1418": "Continue studying __wrap_write()"
"1670": "Study the loops in __wrap_write(), in conjunction with the Transmit Data Register documentation"
"1962": "Marry up the defined UART_REG_TXFIFO with the documentation and determine that we fully understand write"
"2040": "Research if there is a new line standard for UART"
"2178": "The concept of new lines is not defined at the UART level"
"2208": "It's higher level. They probably use CR LF because many terminals (Putty, etc.) use that by default"
"2272": "Read about UART Data framing"
"2412": "In my FPGA app I just sent \n [sic] without doing that conversion. Then I changed the Putty config when I used it with Windows"
"2449": "I just sent slash n, it doesn't print \ n here"
"2505": "Research multiple stop bits in UART"
"2667": "I think two stop bits also helps resynchronization"
"2694": "If you open your serial terminal at mid-transmission what can happen is that you start decoding what you think is a start bit but it's actually data. After that you may never recover unless you have more than one stop bits"
"2824": "Shout out to Sean T. Barrett's publication of Jeff Roberts' printf"
"2920": "Consult our TODO list"
"2978": "Consider checking out the other demos"
"3092": "Plan what to study from the table of contents in the Privileged ISA Specification, note that the User-Level ISA Specification will be more of a reference source for us, and plan what's left from the E3 Coreplex Manual"
"3386": "Scan through led_fade.c to determine that we understand everything in it"
"3721": "Plan"
"3801": "We're done for today"
---
name: "riscy040"
title: "PRCI"
markers:
"7": "Recap and set the stage for the day"
"45": "Read about E300 Power, Reset, Clock, Interrupt (PRCI) Control and Status Registers"
"177": "Marry up the PRCI_REG macro and the PRCI register offsets from the code with the documentation"
"322": "Hunt for further documentation on the PRCI"
"541": "Read about E300 Clock Generation"
"844": "A few thoughts on ring oscillator and trim"
"936": "Just a chain of not gates"
"940": "Continued thoughts on how the trim value works"
"995": "Continue reading about the Internal Trimmable Programmable 72 MHz Oscillator (HFROSC)"
"1229": "Read about External 16 MHz Crystal Oscilllator (HFXOSC)"
"1355": "ESR: equivalent series resistance"
"1367": "Continue reading about the HFXOSC"
"1411": "Voltage-controlled oscillator"
"1420": "Continue reading about HFXOSC"
"1487": "Read about Internal High-Frequency PLL (HFPLL) and Phase-locked loop"
"1679": "Determine to add to the plan"
"1817": "i.e. an assembler ;)"
"1831": "Add "compare a demo's asm to expected", "study the hardware implementation" and "write software" to the plan"
"1912": "Continue reading about HFPLL"
"2118": "A few thoughts on how the PLL relates to the marketed clock rate of the HiFive1"
"2224": "The PPL generates the higher clock rates from the crystal"
"2279": "Probably not within spec"
"2305": "Consider overclocking a HiFive1 (not our main one, though!)"
"2360": "Continue reading about HFPLL"
"2543": "When they say 0 is not supported I'm imagining it's because the core doesn't run that quickly, not because that divider wouldn't work"
"2598": "Continue reading about HFPLL"
"2989": "Read about PLL"
"2994": "VDD and VSS are power pins"
"3000": "Read about PLL Output Divider"
"3075": "Read about Internal Low-Frequency Oscillator (LFRCOSC)"
"3115": "Read about External 32.768 kHz Low-Frequency Crystal Oscillator (LFXOSC)"
"3159": "Determine that we fully understand the opening code of led_fade.c and consult the PLL_* macros"
"3319": "Cross off "PRCI" and move on to "Other Demos""
"3394": "Embark on studying performance_counters.c"
"3634": "Read 3.1.15 Hardware Performance Monitor"
"3814": "Continue reading the rdmcycle() macro"
"3869": "Read about BNE in 2.5 Control Transfer Instructions and CSRRS in 2.8 Control and Status Register Instructions"
"4190": "Summarise how rdmcycle() is checking for rollover into the high half of the register"
"4253": "Not rollover completely, only increment in the part of mcycleh"
"4292": "Wonder if the 1b in rdmcycle() means 1 in binary"
"4346": "We are out of time for today"
"4359": "Skip over what?"
"4419": "Determine to investigate deeper in the next episode"
---
name: "riscy041"
title: "Understanding the Perf Demo & Studying AON"
markers:
"6": "Return to studying the rdmcycle() macro"
"51": "Update stream information"
"78": "Continue studying the rdmcycle() macro"
"311": "Read rdminstret()"
"356": "Read factorial()"
"550": "Read through main() in performance_counters.c"
"1090": "Say we're done studying that demo, and move on to double_tap_dontboot.c"
"1132": "Read the intro documentation in double_tap_dontboot.c"
"1329": "Marry up the #defines with the documentation"
"1411": "Read through main() in double_tap_dontboot.c"
"1455": "Read 3.1.11 Machine Trap-Vector Base-Adddress Register (mtvec)"
"1682": "Continue reading through double_tap_dontboot.c, including LED lighting and input handling code"
"2702": "Determine to review the LED stuff"
"2871": "Read Chapter 5 - E300 Always-On (AON) Domain"
"3425": "Consult Table 5.1: SiFive AON Memory Map"
"3540": "We are just about out of time"
---
name: "riscy042"
title: "Reading about the PMU, Backup Regs, & Boot Process"
markers:
"6": "Set the stage for today's research"
"116": "Chapter 6 - E300 Power-Management Unit (PMU)"
"316": "Scan through double_tap_dontboot.c for mentions of PMU"
"429": "Chapter 6, continued"
"515": "Figure 6.1: E300 Power-Management Unit"
"671": "Figure 6.2: PMU instruction format"
"729": "Table 6.1: Default PMU wakeup program"
"851": "Chapter 6, continued - Wakeup Signal Conditioning"
"922": "Chapter 6, continued - PMU Interrupt Enables (mpuie) - Figure 6.3 - and Wakeup Cause (pmucause) - Figure 6.4"
"1119": "Hello"
"1130": "Chapter 6, continued"
"1211": "Chapter 6, continued - Memory Map"
"1380": "Marry up the defined PMU and AON offsets with the documentation"
"1944": "Chapter 10 - E300 Backup Registers"
"2186": "Chapter 5 - FE310-G000 Boot"
"2888": "Recall some documentation about the contents of the OTP"
"3141": "Chapter 5, continued"
"3277": "Summarise the booting process"
"3330": "We're out of time"
---
name: "riscy043"
title: "More confusion over LEDs"
markers:
"8": "Consult Luis' forum post explaining why measure_cpu_freq is no_inline"
"293": "Well, if it actually gets inlined, then the instructions for the inline function will be at multiple addresses"
"442": "Recap last episode with the determination to review the stuff controlling the LEDs"
"508": "Reacquaint ourselves with the LED controlling code"
"1178": "Consult 7.1. Freedom E310 Pinout"
"1280": "Chapter 11 - General Purpose Input/Output Controller (GPIO)"
"1443": "Determine that we are skipping the PWM, but writing directly to the output port"
"1517": "Chapter 15 - E300 Pulse-Width Modulation (PWM) Peripheral"
"1803": "Chapter 11 - General Purpose Input/Output Controller (GPIO)"
"2128": "Chapter 15 - E300 Pulse-Width Modulation (PWM) Peripheral"
"2167": "Is GPIO_REG a macro? Might be worth looking at the defines in the header"
"2270": "Chapter 15, continued"
"2352": "Wonder if it's not a bug in the code, check the GitHub repository and determine to ask on the forums"
"2530": "Review the PWM Red LED path"
"2722": "Review the LED code in led_fade.c"
"2747": "Period != duty cycle. Period is more like frequency"
"2758": "Duty cycle"
"2922": "Review the documentation on CMP0"
"3104": "When configured as an output (either SW or IOF controlled), the SW-writeableoutxorregister is combined with the output to invert it"
"3170": "Read about PWM Compare Registers, and consider if the XOR is doing nothing because we are not setting the 0 bit"
"3264": "I think it means that it inverts it based on its last state"
"3317": "Consult Figure 11.1 - Structure of a single GPIO Pin with Control Registers"
"3378": "When the bit is high for OUT_XOR, it enables the path through the XOR gate"
"3435": "The oval feeds back in, so it's a loop"
"3538": "I guess I was assuming that IOF1_OVAL was the previous value"
"3593": "Continue studying Figure 11.1"
"3959": "We are out of time for today, with the determination to ask on the forums about the CMP0 setting and the XOR stuff"
---
name: "riscy044"
title: "LED Fade Demo Review"
markers:
"6": "Recap and set the stage for the day"
"136": "Consult the schematic on p 34"
"183": "I think the circle denotes a normally off input, but that wouldn't apply for oval in this case. So, I think the whole grey block is the tristate buffer, and the triangle is just the output part of the buffer"
"219": "Alright go to the board schematics, page three, grid D1"
"281": "Consult the HiFive1 Schematics in conjunction with croepha's explanation"
"473": "If it's high, then no current will flow through the LED, because the potential will be the same on both sides of the LED"
"634": "The main thing OE does is make the output buffer go from high impedance (off) to low impedance (on)"
"648": "Consult Megan's forum post regarding programming the PWM-driven LEDs and write a reply, referring to Illuminant D65"
"1294": "Show some colour correct code using D65"
"1501": "Continue replying to Megan"
"1843": "Shout-out to Megan, with thoughts to try and interview her on the series"
"1892": "Determine that we understand double_tap_dontboot.c and move on to led_fade.c"
"1914": "Refer to RiskyFive's oscilloscope with our newfound understanding of how the PWM works"
"2131": "0 = On for the LEDs"
"2241": "Review led_fade.c with our newfound understanding"
"2754": "Closely read the LED changing code in conjunction with the documentation on the Pulse-Width Modulation (PWM) Peripheral"
"3359": "Reasoning about the duty cycle of the LEDs"
"3811": "Review the intuition behind the center-aligned waveform computation"
"3973": "That's gonna do it for this episode"
---
name: "riscy045"
title: "Dhrystone"
markers:
"8": "Recap and set the stage for the day"
"52": "Consult Croepha's forum post 'Learning about circuits'"
"134": "Try to model a single LED in the Falstad Circuit Simulator in conjunction with the HiFive1 Schematics"
"273": "Let Croepha know of his citation in the Big RISCY BUSINESS Question Thread"
"325": "Under draw there is 1 terminal voltage source and a ground"
"339": "Continue modeling an LED"
"546": "Consult the further replies to 'Learning about circuits'"
"581": "The ground in your simulation is simplified, but is effectively what you have when you have OE=1 and XOR=1"
"615": "Determine to check out other demos and update the Freedom E SDK"
"670": "Embark on studying the Dhrystone demo, in dhry.h"
"984": "Refresh our memory on how to build and upload to the HiFive1"
"1155": "Build the Dhrystone demo and upload it to the HiFive1"
"1245": "Run the Dhrystone Benchmark, Version 2.1"
"1308": "Start to read dhry_1.c while the Dhrystone Benchmark (presumably) crunches away in the background"
"1395": "Consult the output of the Dhrystone Benchmark"
"1483": "Alright take care, I have to run. Thanks for streaming"
"1488": "Continue consulting the Dhrystone output and scan the SiFive forums for information on the benchmark"
"1580": "Consult ARM, Wikipedia and Roy Longbotom's PC Benchmark Collection for some pointers towards interpreting the Dhrystone benchmark"
"1821": "Continue studying dhry_1.c"
"2425": "Express interest in seeing the code generation for working with floating point"
"2497": "Continue studying dhry_1.c from main()"
"2779": "Note that this is very non-descriptive code"
"2838": "Continue reading the initialisation code in dhry_1.c"
"2918": "Read the timing code in dhry_1.c"
"2987": "Consult the internet for 1-indexed programming languages"
"3164": "Continue reading the timing code in dhry_1.c"
"3414": "Read the interpretation and printing code in dhry_1.c"
"3522": "Read through the procedures in dhry_1.c"
"3564": "Scan through the remaining files in the Dhrystone demo"
"3674": "Read time() in dhry_stubs.c"
"3713": "Scan through dhry.h and Makefile to find that we are using -DTIME as the timing method"
"3772": "That's everything, with thoughts that this demo is uninteresting"
"3826": "Shout-out to Jeff Roberts' printf"
"3898": "Glimpse into the future of what we may try and glean from this Dhrystone demo"
---
name: "riscy046"
title: "Pure & Utter Insanity (Dhrystone)"
markers:
"7": "Recap with a few words on the pronunciation of Dhrystone"
"145": "Reflect on the unimpressive nature of synthetic benchmarks"
"254": "Study the procedures in dhry_1.c"
"507": "Study Func_2() and Func_1() in dhry_2.c"
"1215": "Consult the documentation on strcmp()"
"1325": "Continue studying Func_2() in dhry_2.c"
"1404": "Try to establish which strcpy() and strcmp() we are using"
"1902": "Hey Buddy"
"1906": "Read strcmp.c and strcpy.c"
"1995": "Return to dhry_1.c and determine that the comments may come from the original, 1-indexed Ada implementation"
"2117": "Read Proc_7() and Proc_8() in dhry_2.c"
"2566": "Read Proc_1() in dhry_1.c"
"2736": "Read Proc_3() in dhry_1.c"
"2915": "Return to Proc_1() in dhry_1.c, after the call to Proc_3()"
"2973": "Read Proc_6() in dhry_2.c"
"3076": "This is just bananacakes"
"3096": "It wasn't me, but I am a mad man"
"3123": "Read Func_3() in dhry_2.c"
"3156": "It depends on what you mean, I might be worse. I do things with macros that would probably drive you crazy. I also make code generators"
"3201": "Continue to read Proc_6() and Func_3() in dhry_2.c"
"3270": "Finish reading Proc_1()"
"3312": "Wonder if this program was carefully crafted to exercise the instructions well, and to confuse the compiler"
"3412": "Try to reorient ourselves"
"3474": "/me goes off to try some of this syntax"
"3476": "A few words on the old-style C code"
"3622": "Does that compile for you?"
"3788": "Continue to read through the main timing loop in dhry_1.c"
"3902": "Read Proc_2() in dhry_1.c"
"4013": "Scan through the statistical printing code in dhry_1.c"
"4066": "Reflect on our experience investigating this demo"
"4125": "We are out of time, with a note that we ought to update the Freedom E SDK"
"4217": "Are you excited about any other [sic] RISC-V chips? Any comments on the privileged mode instruction spec draft?"
"4338": "Point out lowRISC"
"4434": "Thank you"
---
name: "riscy047"
title: "Studying local-interrupts Demo"
markers:
"14": "Do you have any init.h in your RISC-V SDKs?"
"59": "It's required by riscv-tests, but I can't find it anywhere"
"138": "Shout-out to The RISC-V Reader: An Open Architecture Atlas"
"342": "Plug RISC-V Books"
"432": "By the way, you totally have to read these three blog posts"
"524": "Plug SiFive's bi-monthly newsletter"
"552": "Plug the 100-subscriber milestone giveaway contest"
"605": "Jump back into perusing the demos"
"645": "Be right back"
"649": "Continue to peruse the demos"
"678": "Mention the second webcam"
"825": "Back"
"829": "Plan our studies"
"885": "So what's the plan, again? Sorry"
"910": "Jump in to the local_interrupts.c demo"
"1355": "Consult handle_trap() in the HiFive1's init.c"
"1416": "Continue studying local_interrupts.c, on the Machine Software Interrupt Handler"
"1616": "Check out SiFive's site for information on the E51 Coreplex and the Freedom platforms"
"1753": "That's not new. But they don't sell it"
"1781": "Continue to check out the E51"
"1956": "Continue to study local_interrupts.c, on input handling and timing"
"2450": "Hunt for MIP_MLIP"
"2690": "Learn the definition of MIP_MLIP, and review set_csr()"
"2881": "Learn the LOCAL_INT_* definitions"
"2918": "Probably the lower 16b are reserved for something else"
"2933": "Relate those LOCAL_INT* values to their usage in enable_local_interrupts()"
"3063": "Shifting MIP_MLIP by local interrupt values"
"3154": "It's the amount you're left-shifting by, though, not the actual value"
"3235": "It looks like it's a single bit mask for a 32b field where the lower 16b are reserved for something (local interrupts, maybe?)"
"3254": "Address some texts"
"3321": "Wrap it up with a shout-out to new Patreon supporters"
---
name: "riscy048"
title: "Studying global-interrupts Demo"
markers:
"7": "Recap and set the stage for the day"
"68": "It looks like it's a single bit mask for a 32b field where the lower 16b are reserved for something (local interrupts, maybe?)"
"108": "Continue to study local_interrupts.c on the software and timer interrupt handler, and debouncing"
"233": "Because the metal actually physically bounces, before making permanent electrical contact"
"303": "A button is not a piece of solid metal, it has two faces that make contact"
"377": "A 0.5s debouncer makes sure it has the same state continuously for 0.5s before it takes that value"
"422": "Yes, because the button is not digital, and the signal goes up and down a few times before stabilizing"
"438": "On input handling and exploiting the code for it in A Link to the Past"
"556": "It doesn't need 0.5s, obviously"
"561": "So you have to hold the button for at least 0.5s for it to be recognized in this case, it would be really bad for gaming"
"588": "Continue studying local_interrupts.c on debouncing"
"892": "Briefly check out the product page for the Artix-7 35T Arty FPGA Evaluation Kit"
"1013": "Plug changes to Twitch channel including a new way to support the series via streamlabs"
"1210": "Determine that we have studied local_interrupts.c sufficiently and try to compile it, knowing we won't be able to upload it to our HiFive1"
"1365": "Embark on studying global_interrupts.c"
"1934": "How global_interrupts.c uses a PWM as a timer interrupt for debouncing"
"2199": "Study main() in global_interrupts.c"
"2264": "Good night"
"2269": "Continue studying main() in global_interrupts.c, setting up the PWM and LEDs"
"2519": "Hunt for wfi in the RISC-V reference card and documentation"
"2761": "Read about Wait for Interrupt (WFI) in the Privileged ISA Specification"
"3206": "Determine that we understand global_interrupts.c, and consider what to review"
"3372": "Review the PWM Configuration Register (pwmcfg)"
"3697": "Read about the Deglitch and Sticky circuitry, and the pwmscale field"
"4064": "Read how global_interrupts.c sets up the PWM_CMP registers for debouncing"
"4238": "Wrap it up with the determination to continue studying this in another episode"
---
name: "riscy049"
title: "Writing a PWM Speed Test"
markers:
"7": "Recap and set the stage for the day"
"26": "Resume studying global_interrupts.c with a view to seeing how it uses the 16MHz clock speed"
"332": "Determine to test the speed at which the HiFive1 is running using PWM Interrupts"
"470": "Ahoy"
"515": "Create test.c based on led_fade.c"
"663": "I just noticed your board on the upper camera"
"726": "Trim down test.c to the essentials"
"756": "Plug your phone into the board"
"827": "Remove the LED blinking and input handling code"
"1128": "Set up the pulse-width modulator and the interrupts"
"1507": "Consult the other demos to see how they set up the interrupts"
"1780": "#include plic_driver.h and call PLIC_init()"
"1945": "Register and set up our table of interrupts"
"2191": "Introduce pwm_0_handler() and enable the interrupts"
"2471": "Call the wfi instruction in a busy-loop"
"2564": "Fix compile errors"
"2672": "Upload test.c to our HiFive1, connect and try to reset the board"
"2838": "Try to set PWM_CMP0 to 0xFF0"
"2873": "Make clean and try to upload test.c to our board, before checking the SiFive Forums to see how to correctly make clean"
"3059": "Run make tools and close the stream with a shout-out to new pledger while this runs"
---
name: "riscy050"
title: "PWM Speed Test (Cont.)"
markers:
"8": "Recap and set the stage for the day"
"32": "Point out a solution from the forum to build the Freedom E SDK"
"146": "Compile and upload test.c to our HiFive1"
"302": "Connect to and reset our HiFive1, to see no output"
"382": "Use PWM0_REG rather than PWM1_REG"
"463": "Compile, upload and run test.c to see no output"
"531": "Try to print "Hello, World!" before entering the busy-loop"
"587": "Run our program and see no output"
"741": "Simplify test.c down to the absolute essentials for printing"
"806": "Try to run our program and still see no output"
"872": "Append '\r' to our string"
"925": "Run our program and again see no output"
"986": "Set up the UART"
"1044": "Try to run our program and still see no output"
"1088": "Make test.c wait for the HiFive1 to settle"
"1131": "Try to run our program and still see no output"
"1184": "Pass our "Hello, World!" string to _puts() as a variable"
"1268": "Try to run our program and still see no output"
"1341": "Compile, upload and run led_fade to determine that our upload is not working, and investigate why"
"1541": "Peruse the forums for information on upload failures"
"1744": "Try to upload the led_fade program in safe mode"
"1971": "Connect to and reset our HiFive1 to see the led_fade successfully running"
"2002": "Try to upload demo_gpio, and run it successfully"
"2126": "Try to upload our own test program, and run it successfully"
"2221": "Uncomment our PLIC_init() call, hit an error upon uploading, and investigate why"
"2462": "Comment out the g_ext_interrupt_handlers initialisation"
"2498": "Switch to safe boot mode, upload and successfully run our test program"
"2547": "Uncomment that g_ext_interrupt_handlers initialisation and try to determine how the interrupt handlers table should be set up"
"2670": "Try to upload and run our test program, to see that we were doing it correctly after all"
"2704": "Try to pass a string literal to _puts()"
"2868": "Upload and run our program successfully"
"2914": "Proceed to uncomment the PLIC_enable_interrupt() call and set up the PWM in ONESHOT mode"
"2979": "Switch to safe boot mode, upload and run our program without success, and investigate why"
"3138": "Introduce mei_isr() and correctly set up the PLIC interrupt handler"
"3598": "Read through trap_entry in entry.S"
"3928": "Consider how global_interrupts.c sets up the interrupt handlers"
"4219": "See how coreplexip-e31-arty/init.c sets up the localISR in handle_trap()"
"4389": "Wrap it up with the determination to dive into the assembly code"
---
name: "riscy051"
title: "Studying entry.S"
markers:
"7": "Recap and set the stage for the day, with a plug of the RISCY BUSINESS GitHub"
"368": "Embark on studying entry.S, our first substantial look at GNU assembly"
"665": "Adding to the stack pointer"
"879": "mcause and mepc to the csrr"
"1031": "Describe stack and heap memory, including brk"
"1335": "Hunt the documentation for the register names"
"1638": "Plug SiFive's launch announcement of the U54-MC Coreplex and Raptor Computing Systems with dreams for a RISC-V desktop"
"2188": "Continue the description of stack and heap memory allocation"
"2344": "Plug nwr_mem.h, a user-space memory allocator"
"2550": "Argument registers: a0, a1 and a2"
"2832": "Hunt the documentation for the control status register"
"2986": "Read about the Machine Exception Program Counter (mepc) and Machine Cause Register (mcause)"
"3412": "Refresh our memories about the CSR Instructions"
"3538": "Reading the exception data and stack pointer into argument registers"
"3739": "Calling handle_trap and writing the return value into mepc"
"3917": "Read about the Machine Exception Program Counter (mepc)"
"3988": "Study handle_trap() in init.c, wondering why write the stack pointer into a2"
"4194": "Draft questions in the Big RISCY BUSINESS Question Thread as to why entry.S writes the stack pointer into the trap handler, and the trap handler's return value into mepc"
"4494": "Continue reading entry.S, using li (load immediate) to load MSTATUS_MPP into a temporary register, and then storing that in mstatus"
"4908": "Read about the Machine Status Register (mstatus) and CSRS"
"5122": "Consult encoding.h for the definition of MSTATUS_MPP, and locate this in the mstatus register"
"5404": "Read about Memory Privilege in mstatus Register"
"5557": "Plug the SiFive webinar"
"5822": "Read about MPP and MRET"
"6259": "Wonder if we swap MPP with the privileged mode (thus switching to user-mode), or just store the privileged mode into MPP"
"6330": "Continue studying entry.S: staying in machine-mode, and then restoring our registers and deallocate"
"6659": "Read about the Machine-Mode Trap-Return Instruction (MRET)"
"6913": "Determine to learn the GNU assembler syntax"
"7228": "Wrap it up with thoughts about sleep and streaming schedules"
"7432": "Shout-out to DannyFritz for the support"
---
name: "riscy052"
title: "Studying GAS .weak, .section, and .align"
markers:
"6": "Recap and set the stage for the day"
"44": "Equate the asm in entry.S to array accessing in C"
"188": "Determine to learn if STORE and LOAD are macros"
"349": "Consult the reply to our question in the Big RISCY BUSINESS Question Thread"
"595": "Layout the desktop with a few words on the setup"
"764": "Plug the RISC-V webinar and slides from the presentation"
"1015": "Mention the RISC-V's I-Cache Re-Configurability"
"1653": "Learn about weak symbol and nm"
"2318": "Exercise: Use nm to see if / how using #pragma weak in C code changes the compiler's output"
"2434": "Learn use cases of weak symbol"
"2807": "Learn limitations of the weak symbol"
"3296": "Consult GNU Binutils on .weak"
"3467": "Learn about .section with a few words on a.out"
"4156": "Hey miotatsu! What are you working on today?"
"4219": "Continue learning about .section flags and the optional type argument"
"4633": "Learn about .align with the determination to ask in the forums how the alignment is specified on RISC-V"
"5082": "Call it an episode for today with a shout-out to DannyFritz for the support"
---
name: "riscy053"
title: "Searching for .align Source/Docs"
markers:
"19": "Recap and set the stage for the day"
"27": "Consult the replies to the Big RISCY BUSINESS Question Thread"
"228": "Consult the forum reply explaining why we pass the stack pointer as the 3rd argument to the trap handler"
"696": "Anticipate the third RISC-V webinar"
"754": "Consult the forum reply explaining .align 2 in the .text.entry section"
"983": "Reorganise the desktop and point out the optional pcalc series"
"1282": "Smallest addressable unit == 1 byte"
"1365": "Continue to address the forum replies explaining .align 2 and show physical copy of Hacker's Delight"
"1816": "Explain nwr__rount_up_to_alignment() in nwr_mem.h, with a description of pcalc's start.S"
"2131": "Note that some of this information is currently a little advanced and lacking citations, with a few words on the intention of the Big RISCY BUSINESS Question Thread"
"2438": "Trawl through the riscv-gnu-toolchain and gcc-mirror repos"
"2729": "Hunt for documentation on .align in riscv-binutils-gdb from the Freedom E SDK"
"3589": "Read the Freedom E SDK's entry.S, with a few words on the compilation process"
"4178": "Scan through env/encoding.h and sifive/bits.h, included in entry.S, for STORE and LOAD definitions"
"4576": "Summarise entry.S after the preprocessor has completed its work"
"4792": "Note where we left off pwm_speed_test to investigate entry.S"
"4875": "Start to wrap it up before setting up the tablet to write"
"5019": "Mark entry.S as being done"
"5029": "Call it a day"
---
name: "riscy054"
title: "pwm_speed_test refresher & handle_trap"
markers:
"8": "Recap and set the stage for the day"
"46": "Reacquaint ourselves with pwm_speed_test.c"
"516": "Compile pwm_speed_test and recall that the program didn't do what we want"
"692": "Consult the annotations for days 049 and 050 to see how we got where we did"
"1230": "Learn how mei_isr() is setup in global_interrupts.c"
"1413": "Read 3.1.12 - Machine Trap Delegation Registers (medeleg and mideleg) with mentions of hypervisor mode as used in Xen and Qubes OS"
"2012": "Continue to read 3.1.12 with a mention of RISC-V based real-time software"
"2241": "Scan through the other documentation for chip specifications of privilege modes"
"2462": "Continue to read 3.1.12 about trap delegation"
"2746": "Read 3.1.11 - Machine Trap-Vector Base-Address Register (mtvec) with a moment of realisation as to why we do .align 2"
"3057": "Show the RISC-V Reader and plug the stream schedule"
"3281": "Continue to read 3.1.11 on implementation-specific trap handlers"
"3526": "Study the trap handling code in the Freedom E SDK and Coreplex IP E31 Arty"
"3885": "pwm_speed_test.c: Call write_csr() and introduce handle_trap()"
"4310": "Commit "Day 54""
"4388": "End it here"
---
name: "riscy055"
title: "Studying Calling Conventions"
markers:
"7": "Recap and set the stage for the day"
"64": "Make pwm_speed_test to see multiple definitions of handle_trap() due to init.c being included"
"251": "Ponder modifying common.mk to avoid including init.c twice"
"435": "Note that the trap handler is responsible for handling unimplemented instructions"
"538": "Read use_pll() in init.c"
"673": "Stop passing -DNO_INIT in the Makefile and remove _putc() and _puts() from pwm_speed_test.c"
"740": "Rename handle_trap() to handle_m_ext_interrupt() and let init.c setup the trap handler for us"
"904": "Consult the other demos in the Freedom E SDK for printf and write"
"1087": "#include stdio.h and make pwm_0_handler() call printf()"
"1158": "Comment out all the headers, build and readd them until we have no compile errors"
"1296": "Make and successfully upload to the HiFive1"
"1329": "Hello"
"1334": "Reset the HiFive1 and see a "Hello, World!" before it terminates"
"1381": "Oooh, are we uploading to the HiFive1?"
"1386": "Temporarily comment out everything before the printf(), build and upload it"
"1466": "Run the program to see that it terminates before printing"
"1489": "Comment out the asm volatile ("wfi") and consult the other demos for alternate ways to infinite loop"
"1771": "Build and upload pwm_speed_test"
"1796": "Run and see the same behaviour"
"1803": "Try putting the printf() within the infinite loop, build and upload"
"1832": "Run and see the same behaviour"
"1855": "Try to upload led_fade to the HiFive1"
"1921": "Consult the Getting Started Guide and the Forums for the correct make clean invocation"
"2085": "Backups man, backups"
"2109": "Consider reading documentation"
"2141": "I highly recommend doing an automated full system backup"
"2165": "Scan through the documentation for topics to learn"
"2309": "Jump to Chapter 8 - Debug"
"2350": "By the way, I think I read somewhere that there is already GDB support for RISC-V"
"2378": "Read Chapter 1.4 - Debug Mode"
"2563": "Do you have a JTAG cable?"
"2585": "Scan the Getting Started Guide for debug information and discover "make run_debug""
"2735": "Read Chapter 3.2.2 - Wait for Interrupt"
"3084": "Read Chapter 20 - Calling Convention"
"3125": "Read Chapter 20.1 - C Datatypes and Alignment"
"3241": "Show how nwr_mem.h determines the integer model"
"3307": "Chapter 20.1 continued"
"3421": "Read Chapter 20.2 - RVG Calling Convention"
"3595": "Reflect on RISC-V's handling of a 64-bit value on a 32-bit machine"
"3676": "Chapter 20.2 continued"
"3765": "Note a good rule of thumb: in RISC-V, arguments more than twice the size of a pointer get passed by reference"
"3818": "Chapter 20.2 continued"
"4084": "Consult Table 20.2: RISC-V calling convention register usage"
"4222": "Read Chapter 20.3 - Soft-Float Calling Convention"
"4469": "Read Chapter 20.4 - RV32E Calling Convention"
"4501": "That ends that"
---
name: "riscy056"
title: "Trying to Get Our PWM Interrupts to Fire"
markers:
"8": "Recap and set the stage for the day with a working toolchain"
"146": "Make and upload pwm_speed_test to the HiFive1"
"248": "Connect to and reset the HiFive1, and see "Hello, World!""
"382": "Check the Freedom E SDK's current init.c file and the forums for information on busy-looping to let the uart settle"
"604": "Thoughts on dynamically setting how long to wait, based on the CPU frequency"
"701": "Build, upload but unfortunately fail to connect to the HiFive1"
"822": "Try to debug our program with gdb"
"976": "Try to print "Hello World!" in the infinite loop"
"1027": "Connect to the HiFive1 and see garbage being printed"
"1070": "Add "\r" to the end of the printf"
"1094": "Connect and see it printing "Hello, World!""
"1124": "Revert to performing the "wfi" in the loop, and printing "Hello World!" before it, build and upload it"
"1155": "Reset the HiFive1 and see no output"
"1219": "Comment out the "wfi" and ensure that the while scope loops infinitely"
"1317": "Connect to the HiFive1 and see our "Hello, World!""
"1347": "Decide against using the "wfi" instruction"
"1403": "Connect to the HiFive1, see the power lights flickering, and reconnect the power cable"
"1493": "Try to upload and connect, but still see no output"
"1540": "Try a full rebuild and upload"
"1562": "Connect to the HiFive1 and see a "Hello, World!" but no pwm interrupt"
"1622": "Closely read through the code, and compare it with the led_fade.c demo"
"1803": "Configure the PWM in ENALWAYS mode and with PWM_CMP0 = 0"
"2208": "Connect to the HiFive1, see the "Hello, World!" but still no interrupts"
"2249": "#include platform.h and set the pwmscp0ip bit"
"2514": "Connect to the HiFive1 and see no change"
"2564": "Scour the Freedom E SDK demos for interrupts that use the PWM"
"2667": "See how the global_interrupts demo handles the interrupts"
"2985": "Determine that the only difference between global_interrupts and our pwm_speed_test is that we are not setting the priority or the compare registers"
"3045": "Try to use exactly the same PWM configuration as global_interrupts"
"3188": "Connect to and reset our HiFive1, but still see no PWM interrupt"
"3264": "Try to set the priority and enable timer interrupts"
"3417": "Reset our HiFive1 and see a "trap""
"3509": "Note that global_interrupts is setting a handler for the timer interrupt and calling set_timer()"
"3560": "Introduce handle_m_time_interrupt()"
"3881": "Connect to our HiFive1 and see one instance of "handling timer interrupt" before a "trap", yet no "Hello, World!""
"3989": "Search the demos for MTIP and consult demo_gpio for their timer handling"
"4047": "Make handle_m_time_interrupt() disable and reenable the MTIP"
"4205": "Connect to our HiFive1 and see the same output"
"4229": "Make handle_m_time_interrupt() print "leaving timer interrupt""
"4263": "Connect to our HiFive1 and see the "leaving timer interrupt""
"4294": "Comment out the set_csr(mie, MIP_MTIP) call in main()"
"4313": "Connect to our HiFive1 and see that we are still trapping"
"4329": "Comment out the following set_csr() calls"
"4360": "Connect to our HiFive1 and see the "Hello, World!""
"4393": "Uncomment the set_csr(mstatus, MSTATUS_MIE) call in main()"
"4415": "Connect to our HiFive1 and hit the trap"
"4454": "Try various combinations of interrupts, run the program and always hit the trap"
"4587": "Comment out everything except the set_csr() and printf() calls"
"4630": "Connect to our HiFive1 and still trap"
"4674": "Make and upload demo_gpio"
"4729": "Reset our HiFive1 and see everything working as expected"
"4752": "Read the documentation for some gotcha related to mstatus"
"4873": "Wrap it up with the determination to continue our investigation next time"
---
name: "riscy057"
title: "Getting the PWM Interrupts to Fire"
markers:
"7": "Plug SiFive's Linux-capable HiFive Unleashed chip"
"328": "Check out the HiFive Unleashed specs with exciting thoughts for it in RISCY BUSINESS"
"964": "Plan to port pcalc to RISC-V to work on the HiFive Unleashed"
"1295": "Determine to continue our investigation into the trap on mstatus in pwm_speed_test.c and to run it in gdb"
"1512": "Read section 6.2.4 - Debugging Running Programs"
"1653": "Comment out the set_csr(mie, MIP_MTIP) and set_csr(mstatus, MSTATUS_MIE) calls in main()"
"1686": "Make and upload pwm_speed_test"
"1789": "Reset the board, to see that we don't trap"
"1796": "Uncomment the set_csr(mstatus, MSTATUS_MIE) call in main()"
"1808": "Make, upload and reset to find that we unexpectedly fail to trap"
"1875": "Reset the board in safe mode, and find that we still fail to trap"
"1961": "Uncomment the handle_m_time_interrupt() and set_csr(mie. MIP_MTIP) calls in main()"
"1990": "Run to find that we trap after a short delay"
"2026": "Read carefully through handle_m_time_interrupt()"
"2189": "Copy the busy loop from led_fade.c into uart_init() in init.c, and reduce the wait time in handle_m_time_interrupt() to 2 seconds"
"2291": "Run the program to find that we trap after waiting 2 seconds"
"2334": "Discover the USE_M_TIME #ifdef in init.c and check out the Makefile of other demos that call handle_m_time_interrupt() to find that they contain the flag -DUSE_M_TIME"
"2435": "Add -DUSE_PLIC and -DUSE_M_TIME to the pwm_speed_test Makefile"
"2520": "Run the program to find that it now works beautifully"
"2540": "Delete all the timer interrupt code, in favour of the PLIC code"
"2819": "Run the program to see "Hello, World" but no interrupt or trap"
"2927": "Compare our PLIC code with that in global_interrupts.c, try to change PWM0_REG(PWM_CMP0) to PWM0_REG(PWM_COUNT), and instead uncomment the PLIC_set_priority() call in main()"
"3195": "Run the program and hit our PWM interrupt!"
"3224": "Determine to go back to timing"
"3340": "Read Chapter 15 - E300 Pulse-Width Modulation (PWM) Peripheral"
"3402": "Try setting PWM0_REG(PWM_CMP0) = 0xFFFF"
"3450": "Run the program to see that our interrupts fire pretty fast"
"3471": "Try to add 0x1 to the timer rearming call"
"3491": "Run the program to see that our interrupts still fire pretty fast"
"3506": "Bump straight up to 0x7 in the timer rearming call"
"3524": "Run the program to see that our interrupts still fire pretty fast"
"3642": "Note that we wanted to be in one-shot mode, and try making pwm_0_handler() clear the PWM_CFG register"
"3725": "Run the program to see that we are correctly in one-shot mode"
"3764": "Rearm the timer in pwm_0_handler()"
"3833": "Run the program to see that the timer gets rearmed each time, and note that it still runs pretty fast"
"3902": "Consider the main use-case of PWM interrupts being for debouncing, and plug the Guide to Debouncing"
"4264": "Consider alternate ways to handle debouncing, and uses for PWM interrupts"
"4464": "Determine that we have a good understanding of global_interrupts, and to start fully learning timing in the next episode"
"4544": "Plug the new Gumroad-powered subscription solution, along with a note that the Transparency Reports alone remain solely available publicly on Patreon"
---
name: "riscy058"
title: "HiFive Unleashed Unboxing"
markers:
"0": "Recap and set the stage for the day"
"26": "Embark on unboxing our new HiFive Unleashed"
"121": "Present the HiFive Unleashed box, with a note on the improved packaging from the HiFive1, and a description of the specs"
"351": "Dive into the box and read the introductory note with the determination to get another SiFive T-shirt"
"595": "Unbox the power supply and the HiFive Unleashed itself"
"1008": "Present the HiFive Unleashed"
"1042": "Take a look at the Micro SD card, consider getting a case and check out the power cable length"
"1269": "Switch to the regular scene, and cycle OBS"
"1328": "Temporarily unplug the HiFive1 and plug in our new HiFive Unleashed"
"1591": "Consult the HiFive Uleashed Getting Started Guide"
"1861": "Check out 1.1 HiFive Unleashed Components, and scan through the required hardware"
"2054": "Set all pins in DIP-switch block to the left"
"2204": "Continue reading about board setup, switching the pins in the DIP-switch block back to where they were"
"2403": "Scan through Chapter 5 Boot and Run"
"2499": "Power up the HiFive Unleashed to see its heartbeat"
"2604": "Connect and login to the HiFive Unleashed"
"2786": "Check out /bin/ and /usr/bin/"
"2986": "Run /usr/bin/stream"
"3048": "Continue to scan through /usr/bin/ and the rest of the file system"
"3490": "Pause our explorations for now until we get the Freedom U SDK, with a scan through the documentation on this SDK"
"3876": "That's it for today's episode"
"3996": "Shout-out to serge_rgb and geert"
"4040": "Note that Gumroad is back in working order, and wind it down"
---
name: "riscy059"
title: "Playing with a Fedora chroot & Ion on the HiFive Unleashed"
markers:
"13": "Begin to recap and set the stage for the day"
"17": "\o/"
"39": "Hmm, I can't see my own text"
"79": "Ah, any feedback on the podcast? Boring? Confusing?"
"268": "Plug riscyfive's podcast 'Why So Anemic'"
"282": "Well, I want(ed) to keep my mind open. If I had found out (or I later find out) that the OOP-style modeling was the best option then so be it. I just want to get at the truth, I don't have a camp"
"330": "People at DConf 2016 thought I was Italian, due to the way I talk"
"371": "Determine to continue doing stuff with the HiFive Unleashed, noting the possibility from the SiFive Forums to install Fedora"
"649": "Explain the process of installing Fedora onto the HiFive Unleashed, noting the block size in Arch Linux's example dd invocation"
"942": "By the way, you probably don't have video on your RISC-V system. SiFive used an adapter FPGA board for their demo. I wanted to share with you and your viewers that you can buy the Nexys Video (the bigger one recommended for Bitwise) using an academic discount. I ordered one. We can then later collaborate to get HDMI output using one, or something like that. I can help you with that"
"1022": "Continue to explain the dd part of the installation process"
"1064": "You can even add MP4 encoding in the FPGA itself. No need for OBS"
"1118": "Continue to explain the installation process"
"1148": "You need more Patreons. I'll try to promote you"
"1249": "Finish up explaining the setup process, including building the Ion compiler from bitwise and having it run out of the box!"
"1380": "Don the antistatic wristband and plug in the HiFive Unleashed"
"1443": "Where are you plugging the band?"
"1503": "The "duct tape" method. Good engineering"
"1523": "Read 5.3. Knobs on the HiFive Unleashed"
"1622": "I've worked with $5K boards at Siemens without grounding and they never exhibited problems. After that I never cared too much"
"1727": "That actually was very surprising because I kept getting shocked due to the static discharges at that laboratory (when touching the server racks). But the hardware itself never complained"
"1825": "No, there was a ground. But we were busy and lazy! Maybe that was the trick: I kept discharging myself unintentionally!"
"1842": "Plug in and power up the board"
"1913": "Yeah, I pretty much only have grounded plugs in the kitchen"
"1938": "Connect to the HiFive Unleashed and setup the environment"
"2205": "It seems the cool kids use tmux these days"
"2229": "Delete our test files related to ion"
"2401": "Try: $ shopt | grep checkwinsize"
"2465": "Compile ion, run generate_test.py, show the resulting Ion code in test3.ion, run ion on that file to produce test3.c, and compile that test3.c with gcc"
"2634": "Point out that qemu may provide the closest means to follow along, without having to invest in a HiFive Unleashed"
"2730": "Try to run ion on test2.ion and then gcc on the resulting test2.c file"
"2814": "Try to run ion on test1.ion and then gcc on the resulting test1.c file, to see printouts and input totally working"
"2919": "Read through test1.ion"
"3105": "Run test1 to provide the first demo of Ion code compiled to and running on RISC-V"
"3170": "Note Miblo's thought to use readelf while he wrote annotations for Bitwise"
"3312": "Run objdump on test2"
"3344": "Determine to run objdump on hello"
"3411": "I use readelf all the time for my empire RISC-V port"
"3423": "Continue to figure out how to unfreeze the screen"
"3477": "Ctrl-q?"
"3501": "Note the annoyance of the XOFF ASCII character and screen's default keybinding for it"
"3579": "Yeah, very annoying. Arguably it's just it not ignoring the ASCII characters (XON / XOFF) that you actually typed"
"3630": "Copy hello into the (Fedora) chroot environment"
"3666": "Yeah, but when you type Ctrl-something it emits certain ASCII characters that are control characters, like stop transmitting (freeze)"
"3815": "Run objdump on our elf64-littleriscv hello"
"3890": "Consider trying the hula RISC-V "Hello, world!" on our HiFive Unleashed"
"3937": "That's just what the ASCII character 19 means: stop transmitting. And when you type Ctrl-s you type that character. The real question is, who thought it was a good idea to transmit control information in-band with the content. That is, if you cat a .txt file that contains that character you're screwed"
"4034": "You see, it used to be that terminals had dedicated wires for control. But then $ happened"
"4051": "Rant on screen having kept legacy baggage around"
"4171": "Continue to compare the objdump of hello with hula"
"4202": "With dedicated wires you don't need in-band control characters"
"4243": "No, there was a message missing in between"
"4252": "Compare hula's "write" code with the hello objdump"
"4315": "The Ctrl-z was an example of how the shell has the same problem"
"4391": "Note that the hello objdump may not show scall"
"4448": "I agree it's braindead. But just think this: the initial Ctrl-a just means that you want the sequence Ctrl-a q to pass as a Ctrl-q to the target process. It's not a list of Ctrl-a commands, it just a generic escape"
"4474": "scall -> ecall"
"4514": "It's the old name"
"4516": "Wonder if the objdump is not using system calls, and that it's a lot bigger than hula"
"4579": "Notice: disassembly of XXX (not .text) section"
"4602": "Hunt for a7 in the objdump because that is where you put the syscall number in RISC-V"
"4691": "You can do a readelf of the binary in your main system"
"4707": "Consult man readelf"
"4765": "Run readelf -a hello"
"4821": "Read through the readelf of hello"
"4900": "Maybe just try GDB with the binary?"
"4933": "Continue to read through the readelf of hello"
"4951": "That's why you need the JTAG port"
"4966": "Return to the objdump of hello"
"5022": "The system calls are probably wrapped in libc functions"
"5035": "Notice the mentions of "libc" in the hello objdump"
"5089": "I think the ligc_start_main is just a red herring. Notice the offset is different between different __libc_start_main lines"
"5158": "Notice "libc_start_main" in the hello objdump"
"5279": "Consult the objdump of test1, to see that its symbols are correctly resolved"
"5439": "Call it a day"
---
name: "riscy060_1"
title: "Hello World in RISC-V ASM (1/2)"
markers:
"9": "Recap and set the stage for the day noting a follow-up to the last episode regarding booting Fedora directly"
"347": "Consult the fedora-riscv-kernel documentation"
"574": "Plug Microsemi and SiFive's HiFive Unleashed Expansion Board"
"1132": "Note the switch to Qubes OS"
"1192": "Plug the Compiler Explorer which supports RISC-V"
"1347": "Catch us up with the recommended graphics card / other hardware for use with the HiFive Unleashed from the Big RISCY BUSINESS Question Thread"
"1600": "Note the switch from GitHub to GitLab"
"1707": "Plug the poll: "Would you prefer if I tweet when I go live on twitch?""
"1730": "Plug the new Early Access episode guide with a comparison with the guide in Handmade Network"
"1923": "Plug the series' new logo made by Miblo"
"1999": "Plug Sam Falvo's Kestrel Computer Project"
"2051": "Plug Per's twitter thread on the current inability of godbolt's RISC-V backend to generate jump tables for switch statements"
"2265": "Set up to get hula's hello.S going in the Fedora environment on our HiFive Unleashed, noting Per's sub-series on lowering C code to assembly"
"2610": "Connect to our HiFive Unleashed and set the PS1 for our two environments"
"2864": "Walk through hello.hula"
"4568": "Dive into writing hello.S on our HiFive Unleashed, beginning with the _start entry point"
"4907": "Lower main() from hula to assembly"
"6108": "Call it here"
---
name: "riscy060_2"
title: "Hello World in RISC-V ASM (2/2)"
markers:
"1": "Welcome to the stream"
"33": "Review additions to the Useful Links: unistd.h and RISC-V: Linux Syscall Interface"
"168": "Unfortunately don't have time to watch, but I just came by to say that your title is great"
"182": "Continue reading through the RISC-V Linux Syscall Interface"
"256": "You best stream soon so I can actually watch you work on this project"
"295": "Finish reading through the RISC-V Linux Syscall Interface"
"334": "Return to hello.S assembly and include the li and mv instructions in loop 1"
"405": "Hi, are you coding on a Raspberry Pi?"
"452": "Lower the exit call in main() from hula to assembly"
"538": "If you don't mind me asking, what is RISC-V?"
"662": "Set up to lower the return call in main() from hula to assembly"
"673": "I'm taking a degree in comp sci right now. Kinda interested in learning new languages"
"700": "Plug bitwise"
"794": "Lower the return call in main() from hula to assembly"
"867": "Compare our newly written RISC-V assembly with hello.S in the repo, and consult the RISC-V ELF psABI specification for documentation on the stack frame"
"1074": "Push the return address of main onto the stack"
"1274": "A few words on generating the code for multiple returns, wondering what Per has to say about it"
"1332": "Enable main to correctly return from all branches, and offset the stack pointer"
"1832": "A few words on using the temporary "a" registers, and the possible performance ramifications of being tight with register usage"
"1951": "Enable main to reuse the a1 register"
"2068": "Fix main to correctly break out of the print loop"
"2208": "Read through hello.S to check it all looks correct"
"2408": "Fix _start to correctly pop the loaded word off the stack"
"2431": "Finish reading through hello.S and consider it all good"
"2475": "Assemble our program to see assembly errors"
"2533": "Remove comment and fix assembly errors"
"2562": "Assemble our program to see errors on bez and beq"
"2667": "Grab the RISC-V Reader"
"2724": "Rename bez to beqz, and fix our beq calls, in conjunction with the RISC-V Reader"
"2808": "Consult the RISC-V Reader for information on loading into the frame pointer"
"3072": "Try to make _start load 0 into s0 rather than fp"
"3115": "Assemble it to see that this fixed that error"
"3164": "Stick .section in front of .rodata as per the RISC-V Reader"
"3188": "Assemble it successfully"
"3247": "Link our program with ld"
"3260": "Run it to see that it works"
"3281": "Inspect our binary"
"3360": "On writing this program as an example of code that hula should compile to"
"3378": "Streamline the return code loads in main"
"3637": "Prevent _start from zeroing out the frame pointer"
"3743": "Assemble and link it"
"3756": "Run it to see that it still works"
"3765": "Consider the episode done, with a glimpse into the future booting Fedora directly, hand-writing the machine code for our "Hello, World!" and covering compressed instructions"
"4052": "Thoughts on avoiding security vulnerabilities by owning the entire chain of production"
"4377": "Further thoughts on the elegance of FORTH and its suitability for bootstrapping"
"4550": "Glimpse into the future designing a custom case, streaming from our RISC-V system and building a Linux distribution for it"
"4636": "End this episode here"
---
name: "riscy061"
title: "Unboxing a HiFive Unleashed Expansion Board"
markers:
"1": "Welcome to the stream, with a mention of networking issues"
"33": "Set up for the box opening"
"124": "Unpack the big box"
"204": "Check out Microsemi's warning seal with a note that we always practise proper grounding on the series"
"283": "Don the antistatic wristband and dive into the smaller box"
"374": "Read the letter from Microsemi"
"524": "Unpack the HiFive Unleashed Expansion Board and everything else from its box"
"720": "Read the HiFive Unleashed Expansion Kit Quick Start Card"
"781": "Finish unpacking the smaller box"
"837": "Open up the FlashPro4 box"
"903": "Read the FlashPro4 Device Programmer Quick Start Card"
"1015": "Hello Riscy"
"1034": "Unpack the FlashPro4 and related accessories from its box"
"1102": "Present and describe the FlashPro4"
"1266": "Unwrap the power brick"
"1309": "Unwrap the HiFive Unleashed Expansion Board"
"1408": "Thank Wasim for the donation"
"1456": "Check out the HiFive Unleashed Expansion Board"
"1605": "Present the HiFive Unleashed Expansion Board"
"1866": "Discuss the recent smear campaign by ARM against RISC-V"
"2640": "Check out the URL from the HiFive Unleashed Expansion Kit Quick Start"
"3436": "Check out the SiFive HiFive Unleashed Getting Started Guide to see that this documentation is only for the HiFive Unleashed, not our Expansion Board"
"3647": "Begin to think about the design for an open air case"
"3865": "Design ideas for our case"
"4625": "Skyreach 4 MINI"
"4660": "Open air compact case that can accommodate micro ATX motherboard and a GPU"
"4664": "Check out SFF LAB's Skyreach 4 MINI"
"4879": "SSF LAB's Enclosures"
"4932": "Check out SSF LAB's Enclosures"
"5132": "Settle on a narrow design"
"5225": "Tweet out about the networking troubles"
"5301": "Sketch out the ergonomics of our case"
"5660": "Review all the cards we need"
"5813": "Recover from OBS crash"
"5836": "Recap our case design and all our card and connection requirements"
"6028": "Determine to order a GPU and FMC connector"
"6072": "Unpack a mystery item, before safely returning it to its antistatic bag"
"6177": "Take a look at the Schematics and PolarFire FPGA Bitstream, with the determination to consider how to work the SiFive logo into the case"
"6358": "Determine to ask about documentation for the Expansion Board in The Big RISCY BUSINESS Question Thread"
"6405": "Wind it all down with thanks to Wasim for the donation, and plugs of Luís' DHDL and serge_rgb's recently announced compiler"
---
name: "riscy062"
title: "Unboxing Caliper, Gfx Card, UHK"
markers:
"0": "Welcome and set the stage for the day's unboxing"
"64": "Introduce and unbox the Neiko 01407A digital caliper"
"228": "Present the digital caliper"
"267": "Read the user guide"
"631": "Unwrap the battery with a view to installing it"
"796": "Turn on the caliper, pack the new battery away and bring out a motherboard standoff"
"1005": "Point out the sheer cost of FMC to FMC cables that we originally intended to use to connect our expansion board inside our case"
"1232": "Note the need to reconsider the layout of our hardware in the case"
"1388": "Connect the HiFive Unleashed Expansion Board to the HiFive Unleashed, noting their height difference and our need to handle this"
"1645": "Put the caliper right into action, measuring the height of our motherboard standoff (14.95mm)"
"1897": "Measure the height from the desk of the HiFive Unleashed (28.28mm) and the Expansion Board (21.70mm)"
"2491": "Peruse Newegg and Amazon's selection of standoff screws"
"3455": "Pack away our caliper before diving back into opening stuff"
"3635": "Unbox our Sapphire Radeon HD6450 GPU"
"3906": "Read the specs of our Radeon HD6450 off the box"
"4022": "Consider our need for separate audio support and software ports, in the context of our roadmap to streaming from the HiFive Unleashed"
"4249": "Thoughts on the progress of ports to RISC-V"
"4456": "Setup to unbox our Ultimate Hacking Keyboard"
"4768": "Unbox our Ultimate Hacking Keyboard, with a note on the inclusion of "typing" in the stream schedule"
"5231": "Present the Ultimate Hacking Keyboard"
"5292": "Read the thank you card from UHK"
"5441": "Unpack the UHK"
"5601": "Present the unpacked Ultimate Hacking Keyboard"
"5750": "Try out mechanical switches – Cherry MX Brown – for the first time"
"5988": "Connect the two halves of our UHK and plug it in"
"6562": "Return from under the desk, and film the UHK in situ with the secondary webcam"
"6966": "A few words on discovering SiFive and their HiFive1 thanks to our pre-order of the Ultimate Hacking Keyboard from Crowd Supply"
"7501": "Determine that our keyboard's layout is Dvorak, as intended, and try out its (awesome!) mouse-mode functionality"
"8120": "Try drawing (straight lines) in Milton with mouse-mode"
"8696": "Check out Ultimate Hacking Keyboard's Welcome!"
"8890": "Plug the Patreon and the public episode guide"
"9234": "Plug the ability to search for and jump to timecodes in the episode guide and the Early Access site"
"9417": "Continue to read the Ultimate Hacking Keyboard's Welcome!, with a critique of the USB cable recess, and a note of our conflict between wanting a well-located Caps Lock (as Escape) and the mouse-mode key"
"9852": "Thoughts on mapping the keys to Dvorak in Arch Linux, and the differing mappings in keyboard- and mouse-mode"
"10210": "Continue to read the Ultimate Hacking Keyboard's Welcome! with further thoughts on the snugness of the USB cable recess"
"10532": "Continue to read the Ultimate Hacking Keyboard's Welcome! with thoughts on posture, and navigating Vim with hjkl in Dvorak"
"11264": ""Installing the feet""
"11765": ""Choosing your keymap""
"11948": "Load up all the files in /usr/share/X11/xorg.conf.d/ looking for our keyboard layout configuration"
"12070": "Consult the Arch Wiki on Keyboard configuration in Xorg"
"12252": "Load up /etc/X22/xorg.conf.d/00-keyboard.conf to show our Dvorak configuration"
"12297": "Learn about the UHK's preloaded keymaps and its confusingly coincidental mapping for mouse-mode with our Dvorak configuration"
"13311": "Read about "Mousing around" with further thoughts on the unfortunate coincidence of the mouse button key mappings"
"13766": "Consider swapping ` and Escape while we don't have the extra button module"
"14100": ""Moving the pointer", "Clicking" and "Scrolling""
"14470": ""Acceleration and deceleration" and "Locking the mouse layer""
"14820": ""Arrow keys""
"15500": "Learn how to leave Pentadactyl's pass through mode"
"15686": "Retype our spreadsheet practice and continue on to the second spreadsheet, with some thoughts on our current typing speed"
"16128": ""Navigation cluster""
"16423": ""Navigation shortcuts""
"16530": ""The rest of the Mod layer""
"16675": ""The Fn layer""
"16688": ""Installing Agent""
"17062": "Check out the web build of Agent"
"17585": "End it here"
---
name: "riscy063"
title: "RISC-V PC Planning"
markers:
"7": "Set the stage for the day planning our RISC-V PC"
"39": "Shout-out to riskyfive for the increased support, his new job at lowRISC, and Google's Titan Root-of-Trust silicon"
"340": "Present the news of Huami's smartwatch using SiFive's E31 core"
"517": "Recap the measurements taken last stream and consider fabrication of the case"
"775": "Don the anti-static wristband and measure a standoff (17.98mm)"
"1434": "Jot down our measurement, adjust our rough measurements from last time, and consider that a ~25mm standoff should suit our purposes"
"1748": "Peruse Amazon for their selection of 25mm standoffs, considering that it may be more economical to 3D print, than to buy a big pack of, standoffs"
"1900": "Sketch out the cross-section of our expansion board and HiFive Unleashed, considering that our best option may be to raise a section of the case up by 9.61mm to meet the HiFive Unleashed"
"2235": "Hi man, I don't have speakers / headset so I can't hear you, but my question is, what are you explaining about?"
"2392": "Consider the dimensions for our case"
"2572": "Reconnect the HiFive Unleashed to the expansion board"
"2679": "Sketch out the layout of our boards"
"3198": "Consider the location of our boards in the case for easy access, including our need for a mechanism to trigger the power buttons"
"4022": "Consider the location of the graphics card in the case"
"4514": "Prioritise figuring out the power situation, determining first to research M.2 SSDs and PCI cards"
"4607": "Peruse Amazon and Newegg's  selections of M.2 SSDs in conjunction with Microsemi's HiFive Unleashed Expansion Board specs"
"5981": "Peruse Amazon for "audio usb pci expansion card""
"6505": "Call it a day, with a glimpse into the future directly booting Fedora, one of the BSDs and maybe Debian on the HiFive Unleashed, and plugging in various peripherals to see what gets detected"
---
name: "riscy064"
title: "RISC-V PC Planning, Unboxing SSD & USB Card"
markers:
"21": "Recap our RISC-V PC plan and set the stage for the day"
"275": "Present the news of a RISC-V chip with built-in neural networks and a new video in Robert Baruch's LMARV-1 series"
"505": "Plug Colin Riley's TPU/RPU Series designing a RISC-V CPU in VHDL"
"530": "Kestrol?"
"621": "Continue to plug Colin's TPU/RPU series"
"650": "Plug domas's project rosenbridge, revealing hardware back doors in CPUs"
"1192": "Present the news of Bloomberg's fake "Big Hack" story and Patrick Gray's follow-up piece on the story"
"1242": "Fake news from the dying Bloomberg Times"
"1249": "Continued thoughts on trusting our supply chain in response to the Bloomberg story, including Patrick Gray's follow-up piece on the story"
"1364": "Still, strange that a reputable news agency was so assertive this was real. Maybe there's more to it than we know"
"1385": "That's all for the news"
"1446": "Set up to follow Atish Patra's instructions on building Fedora for the HiFive Unleashed using our newly ordered hardware"
"1771": "This message brought to you by Amazon..."
"1828": "Getting the Freedom U SDK to build on an x86 laptop running Arch Linux"
"2370": "That's a lot of dependencies"
"2423": "Continue to bring us up to speed with our progress through Atish Patra's instructions on building Fedora for the HiFive Unleashed"
"2510": "Unbox our 250GB Samsung 970 EVO NVMe M.2 SSD"
"2844": "Unbox our SuperSpeed USB 3.0 PCI-e Host Card"
"3260": "Consider our power requirements in light of the fact that the HiFive Unleashed powers the expansion board"
"3442": "Like an IEC connector?"
"3465": "Continue to consider our power requirements"
"3582": "Later"
"3586": "Continue to consider our power requirements, rigging up the power button"
"3695": "Consider our case design for modular mounting"
"4614": "Are you trying to make it ATX-like?"
"4838": "Continue with our graphics card mounting considerations"
"5173": "Research case fabrication"
"5403": "Sheet metal is flimsy, but it gets its structure / rigidity from its bends / right angles / supports"
"5422": "Continue to read about metal fabrication"
"5565": "Wrap it up with a glimpse into the future of our RISC-V PC and case fabrication"
"5629": "There is additive printing with metal, but that's pretty cutting edge... NASA actually started experimenting with 3D printing rocket valves..."
"5675": "“Stay RISCY, everyone.”"
---
name: "riscy065"
title: "Trying Out OpenSCAD"
markers:
"1": "Welcome to the stream"
"56": "Handmade Seattle Booth Announcement"
"122": "Plan to design and fabricate our enclosure"
"263": "A few words on our Arch Linux reinstallation and OpenSCAD installation"
"341": "Plug our Twitter account and Patreon, and Shout-out to Patrons"
"443": "Show off the Early Access RISCY BUSINESS site and the publicly available guide"
"854": "Shout-out to new Patrons: Jose Hernandez Sanchez Lugo and Pei Jia"
"974": "Computer-Aided Design (CAD)"
"1142": "Introduce OpenSCAD"
"1361": "Measuring our hardware, after grabbing a ruler"
"1411": "afk"
"1421": "Don the anti-static wristband"
"1483": "Measure the expansion board width (272mm)"
"1683": "Plug the formlabs article 'How to Design 3D Printed Snap Fit Enclosures'"
"1848": "Measure the expansion board depth (117mm)"
"2048": "Plan to extrude our model by the size of the stand-offs"
"2083": "Replace the battery in our calipers"
"2290": "Measure the expansion board thickness (2mm)"
"2430": "Extrude our model 2mm"
"2496": "Solving our mystery SSD stand-off"
"3007": "Set up to extrude our model further by the size of the stand-offs"
"3111": "Measure the expansion board stand-off (18mm)"
"3305": "Confirm our measurements against the spec"
"3438": "Add a 18mm block to our model"
"3964": "Measure our screw (5mm)"
"4284": "Add a 5mm screw to our model"
"4359": "Increase the fragment count to 100, to render curves more finely and expensively"
"4524": "Position our screw hole on the board"
"5233": "Count up our screw holes (15)"
"5382": "Add and position the first nine screw holes on our model"
"8775": "Gauge the positioning of our final six screw holes"
"8864": "Add and position three of our remaining six screw holes"
"9641": "Thank you for watching"
---
name: "riscy066"
title: "HiFive Unleashed & Expansion Board Models"
markers:
"2": "Recap our case model design in OpenSCAD"
"403": "Delete curly braces"
"452": "Add and position our remaining three screw holes"
"1286": "Admire our stand-offs, and consider adding USB ports, SATA connector and other cards"
"1528": "Extrude our model by the size of the HDMI tab (26.5mm)"
"1797": "Model a hole for access to the power button"
"3069": "Determine to model the HiFive Unleashed, USB and Graphics cards"
"3119": "Introduce exb() module to house our Expansion Board model, and format the code"
"3219": "Demo the utility of OpenSCAD modules"
"3321": "Dive into modelling our HiFive Unleashed, first measuring it (120mm × 90mm × 1.6mm)"
"3590": "Block out our 120mm × 90mm × 1.6mm HiFive Unleashed"
"3720": "Plan to model the FMC connector, 2 stand-offs, power region and Micro SD card"
"3896": "Measure our HiFive Unleashed stand-off (15mm)"
"3990": "Extrude our model to accommodate the stand-offs"
"4361": "Measure the FMC connector (18mm)"
"4439": "Shrink our stand-off extrusion to allow room for the FMC connector"
"4504": "Model the FMC connector of the HiFive Unleashed"
"5298": "Make transparent the stand-off regions of both models"
"5483": "Add a stand-off screw hole to our model"
"5800": "Measure the inner diameter of the HiFive Unleashed stand-offs (5mm)"
"5853": "Hunt for information on the stand-offs in the SiFive Unleashed Getting Started Guide, Design Files and Schematics"
"6154": "Size our stand-off screw hole (5mm), and add and position our two holes"
"6373": "Admire the modelled underside of the HiFive Unleashed"
"6437": "Measure the height of the heatsink and fan (25mm)"
"6527": "Extrude our model by the height of the heatsink and fan"
"6593": "Plan to model the power region and Micro SD card, measuring our desired hole (20mm)"
"6741": "Model a hole for access to the power button and Micro SD card"
"7172": "Admire our HiFive Unleashed model"
"7204": "Introduce hu() module to house our HiFive Unleashed model"
"7300": "View our two models, and plan to slot them together"
"7407": "Rotate the HiFive Unleashed 90° counter-clockwise and slide it roughly into position"
"7725": "Model a hole on the Expansion Board model to accommodate the FMC connector"
"8588": "Measure the Expansion Board's FMC connector (58mm × 15mm)"
"8855": "Model the Expansion Board's FMC connector loosely, to fit the HiFive Unleashed's FMC connector"
"9676": "Slot the HiFive Unleashed and Expansion Board together"
"9928": "Admire our conjoined model"
"9966": "Plan to compare our model with reality, then model the Graphics and USB card, and finally model the case"
"10014": "Slot our real life boards together, and compare our model with this reality"
"10516": "Review our original measurements"
"10869": "End the episode here"
---
name: "riscy067"
title: "USB Card Model"
markers:
"2": "Welcome to another episode"
"11": "Shout-out to our patron RiskyFive"
"47": "Determine to model our Graphics and USB cards, board before bracket"
"341": "Grab the ruler"
"372": "afk"
"393": "Return and plug the one-of-a-kind RISCY BUSINESS poster and the bookmarks that will be available at Handmade Seattle"
"711": "Measure our USB card's board (85mm × 52mm)"
"806": "Jot down our USB board dimensions"
"872": "Consider switching from square() and linear_extrude() to cube()"
"1100": "Model our USB card's board"
"1243": "Measure the thickness of our USB card's board (1.75 mm)"
"1329": "Extrude our USB card's board by 1.75mm"
"1462": "Measure the space required to fit all the board's components (9mm)"
"1616": "Extrude our model to fit all the board's components"
"1652": "Measure the dimensions and position of the USB card's PCI Express connector"
"1848": "Model our USB card's PCI Express connector"
"2083": "Admire our USB card's board"
"2173": "Introduce usb() module and roughly position our USB card relative to the Expansion Board"
"2620": "Research the rotate() convention employed by OpenSCAD"
"2865": "Get to grips with the rotation in code"
"2991": "Finish roughly positioning our USB card"
"3036": "Measure the position of the Expansion Board's PCI Express slot"
"3265": "Model the Expansion Board's PCI Express connector"
"3790": "Measure the dimensions of the Expansion Board's PCI Express connector (25mm × 8.75mm)"
"3944": "Size our Expansion Board's PCI Express connector"
"4025": "Measure the height of our Expansion Board's PCI Express connector (7mm)"
"4245": "Finish sizing our Expansion Board's PCI Express connector, and cut out a rough region to accommodate the USB card"
"4611": "Position our USB card in its cutout region"
"4693": "Measure the slot of our Expansion Board's PCI Express connector"
"4874": "Model the slot of our Expansion Board's PCI Express connector"
"5386": "Slot the USB card and Expansion Board together"
"5723": "Slot our real life boards together, and compare our model with this reality"
"5767": "Flip our USB card in X and reposition it"
"6207": "Glimpse into the future"
---
name: "riscy068"
title: "I Hate Polygons"
markers:
"2": "Recap our case model design in OpenSCAD"
"160": "Measure our USB card bracket (103.5mm × 18mm)"
"242": "Jot down our USB card bracket measurements"
"320": "Measure the thickness of our USB card's bracket (1mm)"
"364": "Begin to model our USB card's bracket"
"508": "Measure the tab at the bottom of our USB card's bracket (4.5mm × 6.5mm)"
"795": "Jot down our USB card bracket tab measurements"
"806": "Measure the width of the tab at the bottom of our USB card's bracket (10.5mm)"
"927": "Model the tab at the bottom of our USB card's bracket"
"1117": "Break"
"1135": "Return with the determination to transform our USB bracket into a polygon"
"1189": "Begin to transform our USB bracket into a polygon"
"1211": "Plug ActonIt, to-be-available for $5 and up Patrons"
"1278": "Model an initial triangle for our USB bracket"
"1498": "Admire our triangle, noting that its lowermost point is unexpectedly located"
"1661": "Translate our USB bracket's tab a little closer to the main body"
"1757": "Admire our bracket, noting why it wasn't matching up initially"
"1797": "Model a fourth point on our USB bracket polygon"
"1974": "Verify that our new polygon and original square are identical"
"1992": "Modify the fourth point of our USB bracket polygon, to join the tab"
"2250": "Break"
"2278": "afk"
"2436": "Return and refill the timer"
"2463": "Fix our fourth point to correctly join the tab"
"2515": "Model more points on our USB bracket polygon to encompass the tab"
"2651": "Verify that our polygon matches up with the tab"
"2663": "Model a point for the second shoulder of our USB bracket"
"2715": "Admire our bracket"
"2726": "Extrude our bracket by 1mm"
"2780": "Determine to model the top part of the bracket"
"2842": "Pull out the tab measurements into variables"
"3338": "Happily see no change in our bracket"
"3364": "Consider how our new variables will adapt to the final model"
"3447": "Create total_ysum variable"
"3681": "Admire our unchanged bracket"
"3708": "Rephrase our polygon points"
"3952": "Admire our unchanged bracket, noting why we rephrased the code"
"4023": "Don the wrist strap"
"4046": "Measure the top part of the bracket"
"4188": "Begin to model the top of the bracket"
"4291": "Begin to regret doing this as a polygon"
"4358": "Fix up our bracket to account for the top"
"4575": "Figure this to be right"
"4614": "Model the points for the top part of the bracket"
"4908": "Measure the X axis of the bracket's top (3mm)"
"5158": "Add the top_xshft to our polygon"
"5436": "Admire the top part of our bracket"
"5534": "Determine to model the perpendicular part of the bracket and add a region below it"
"5570": "Measure the safe zone part of the bracket (3mm)"
"5676": "Extrude the bracket by the safe zone, and colour the bracket white"
"5889": "Determine to model the perpendicular part of the bracket as a simple rectangle"
"5952": "Introduce usbb() module to contain our bracket, and roughly position it in the full model"
"6801": "Admire our bracket in position"
"6879": "Measure the vertical offset of the USB card from its bracket's top (40.75mm)"
"7066": "Move the bracket into position vertically"
"7417": "Consider this to be okay, and double-check our measurements"
"7813": "Temporarily hide the Expansion Board's USB socket to gauge the position of the USB card itself (3mm from the board)"
"7938": "Note that the top of the USB card is at 88mm"
"8144": "Position the USB card's bracket according to our measurements, to determine that it must be too long"
"8371": "Remodel the bracket as a union of squares and polygons"
"10226": "Admire our remodeled bracket"
"10291": "Compare our new bracket with the (longer) old one"
"10402": "End the episode there"
---
name: "riscy069"
title: "GFX Card Model"
markers:
"1": "Plug SiFive's new Shield security architecture and U8 series"
"325": "Recap our off-stream code cleanup"
"570": "Admire our model, noting rendering bugs in OpenSCAD and feature requests"
"991": "Determine to finish our USB card bracket and model the Graphics card"
"1069": "Measure the lip of the USB card's bracket (12mm × 18mm)"
"1244": "Jot down the measurements of the lip of our USB card's bracket"
"1286": "A few thoughts on centering elements"
"1423": "Begin to model the lip of our USB card's bracket"
"1492": "A few thoughts on unit-less measurements"
"1635": "Consider modelling the bracket lip's notches"
"1812": "Measure the bracket lip's screw notch (4.5mm × 5.5mm, rounded)"
"2127": "Model the bracket lip's screw notch"
"3156": "Break"
"3166": "Return and continue researching OpenSCAD's logical operations"
"3333": "Continue to model the bracket lip's screw notch"
"3796": "Admire our bracket lip's screw notch"
"3970": "Introduce bracket_lip()"
"4165": "Don the antistatic wristband"
"4230": "Position the lip with the rest of our bracket, and apply a safe zone"
"5210": "Admire our complete bracket"
"5265": "Admire the entire model with our new bracket"
"5376": "Plug our real life USB card into the Expansion Board, measure the elevation of its bracket (6mm), and compare our model with reality"
"6054": "Embark on modelling the Graphics card, first measuring it (144mm × 56mm × 1.75mm"
"6354": "Begin to model our Graphics card"
"6483": "Measure the space necessary to contain the Graphics card's components (14mm)"
"6571": "Apply a 14mm safe zone to the Graphics card, colour it green and introduce gfx() module"
"6701": "Measure the VGA connector region (18.5mm)"
"7051": "Begin to model the VGA connector region"
"7219": "Break"
"7275": "afk"
"7417": "Return and measure the X (48mm) and Y (33mm) dimensions of our VGA connector region"
"7754": "Finish modelling the VGA connector region"
"7952": "Determine to model the PCI-e ×16 connector and bracket"
"8064": "Measure the PCI-e ×16 connector (85mm × 13mm))"
"8355": "Model the PCI-e ×16 connector"
"8623": "Measure the position of the PCI-e ×16 connector (44mm)"
"9088": "Move the PCI-e ×16 connector into position"
"9135": "Consider modelling the Graphics card's bracket"
"9220": "Try fixing our existing bracket to the Graphics card, renaming usbb() to bracket()"
"9864": "Consider that to be good, and shorten the VGA connector region to make the bracket flush"
"10064": "Incorporate the USB card's bracket into its module"
"11108": "Begin to position the Graphics card's bracket"
"11365": "Measure the position of the Graphics card's bracket (19.5mm)"
"11562": "Position the Graphics card's bracket"
"11798": "Measure the brackets of the USB and Graphics cards"
"11956": "Take another gander at our Graphics card measurements"
"12229": "Call it here"
---
name: "riscy070"
title: "RISC-V PC Model & Starting on Case"
markers:
"1": "Recap our code cleanup since last time"
"96": "Research the Craftcloud 3D printing service"
"669": "Research the JawsTec 3D printing service"
"854": "Research the Autotiv 3D printing service"
"1027": "Thoughts on the expense of our case"
"1128": "Plug our updates to links.riscy.tv"
"1570": "Determine to finish the RISC-V PC model before starting on the case"
"1641": "Measure the notch on the Graphics card (8mm)"
"1821": "Fix the vertical position of the Graphics card's bracket to account for the notch"
"1983": "Roughly position the Graphics card in our full model"
"2054": "Determine to model the Expansion Board's PCI-e ×16 connector, initially cutting out a region to accommodate it"
"2498": "Measure the Expansion Board's PCI-e ×16 connector (89mm)"
"2792": "Model the Expansion Board's PCI-e ×16 connector"
"3145": "Measure the x position of the Expansion Board's PCI-e ×16 connector (12.5mm)"
"3267": "Position the Expansion Board's PCI-e ×16 connector in x"
"3299": "Measure the y position of the Expansion Board's PCI-e ×16 connector (28mm)"
"3404": "Position the Expansion Board's PCI-e ×16 connector in y"
"3553": "Measure from the other edge the y position of the Expansion Board's PCI-e ×16 connector (3.5mm)"
"3772": "Fix the y position of the Expansion Board's PCI-e ×16 connector"
"3895": "Slot the Graphics card and Expansion Board together, fixing the connector location"
"4554": "Plug our real life Graphics card into the Expansion Board to confirm that it lines up with the USB card"
"4754": "Lower the Graphics card into place"
"4951": "Express concern about our Expansion Board dimensions"
"5080": "Double-check the Expansion Board y dimension (120mm)"
"5242": "Fix our Expansion Board's y dimension from 117mm to 120mm"
"5353": "Double-check the Expansion Board's x dimension (272mm)"
"5428": "Consider our RISC-V PC model to be provisionally done"
"5575": "Double-check and fix the position of our Expansion Board's PCI-e ×16 connector"
"5950": "Break"
"5961": "Return and fix the position of our Graphics card"
"6134": "Double-check and fix the position of our Expansion Board's PCI-e ×1 connector"
"6940": "Double-check the x dimension of our USB card's PCI-e ×1 connector (20mm)"
"7134": "Slide the USB card into position, within its wiggle room"
"7315": "Double-check the position of our Expansion Board's FMC connector and HiFive Unleashed"
"7723": "Double-check the positions of our Expansion Board's stand-offs"
"8144": "Introduce guts() module to house our whole model"
"8178": "Embark on modelling the case"
"9249": "Model the case's stand-offs"
"9710": "Raise the end area of the case to meet the HiFive Unleashed"
"10759": "Research OpenSCAD's offerings in terms of our sloped surface"
"11256": "Produce our case's sloped surface out of a cylinder()"
"12360": "Determine to model the raised surface, also consider making the case's stand-offs smaller"
"12437": "Don the antistatic wristband, and measure our stand-off screw (2.3mm)"
"12566": "Reduce our case's stand-off screws from 3.5mm to 3mm diameter"
"12604": "Model the case's raised surface"
"12931": "Consider namespacing our code"
"13139": "Scope our stand-off code"
"13232": "Call it a day"
---
name: "riscy071"
title: "Guess That Shape"
markers:
"5": "Recap the current state of our case and set the stage for the day"
"121": "Model the case's stand-offs for the HiFive Unleashed, with thanks to Miblo for the vim-tip (incrementing and decrementing numbers with Ctrl-a and Ctrl-x)"
"427": "Research scoping in OpenSCAD"
"906": "Continue to model the case's stand-offs for the HiFive Unleashed, using let() to scope variables"
"1908": "Wonder if vim supports evaluation of a selected expression"
"1987": "Finish positioning the case's stand-offs for the HiFive Unleashed"
"2162": "Add some thickness to our case"
"2758": "Break"
"2772": "Return and finish thickening our case"
"3142": "Model a skirt around the entire case, starting with the HiFive Unleashed area"
"4752": "Extend the HiFive Unleashed area of the case, to accommodate screwing"
"4916": "Reposition and continue modelling the HiFive Unleashed area's skirt"
"5572": "Admire our progress"
"5621": "Embark on modelling our case's sphere-based cornering"
"6545": "Try constructing our corner shape using rotate_extrude()"
"7608": "Compare our corner shape with the existing skirt"
"7909": "Correctly orient our corner shape"
"8798": "Add thickness to our corner shape"
"9063": "Call this one good for today, with a view to using a sphere intersection next time"
---
name: "riscy072"
title: "I Got 99 Fragments"
markers:
"1": "Read the news, plug the announcement of our Handmade Seattle booth and the availability of our CAD model"
"124": "Read the Handmade Seattle news"
"353": "Show the current state of our model"
"454": "Describe the construction of our corner shape"
"538": "Recap our usual code cleanup, notably the new ramp_edge() module, and renamed modules"
"881": "Plan to verify our corner shape, finish the skirt, and add ventilation, feet underneath, walls and a top"
"1082": "Move our corner shape into place and fix its dimensions in line with the skirt ramps"
"2649": "Reconsider the construction of our corner shape, with thoughts on avoiding over-generalisation"
"2841": "Shrink the inner circle of our corner shape, to produce our desired shape"
"3110": "Admire our beautiful corner shape"
"3199": "Render and hit a warning: "Object may not be a valid 2-manifold and may need repair!""
"3246": "Investigate the "may not be a valid 2-manifold" warning"
"3374": "Take a lunch break"
"3392": "Return and recap our situation with the rendered view producing a "may not be a valid 2-manifold" warning"
"3526": "Continue to investigate the "may not be a valid 2-manifold" warning"
"3788": "Increase the fragments per arc value from 100 to 500, and hit a CGAL assertion"
"3878": "Decrease the fragments per arc value from 500 to 10, with success, then back up to 99"
"4016": "Reinstate and render our entire model"
"4187": "Introduce ramp_corner() and adjust the ramps to fit our new corner"
"4928": "Finish modelling the HiFive Unleashed area's skirt"
"5667": "Admire our HiFive Unleashed area's skirt"
"5851": "Toggle on the Expansion Board area, and consider the transition between this and the HiFive Unleashed area"
"6091": "Embark on modelling the (not raised) Expansion Board area's skirt"
"7446": "Model the first transition between the Expansion Board and HiFive Unleashed areas"
"8252": "Express concern about the seam between the arced pieces"
"8458": "Overlap the arced pieces to seal the seam"
"8557": "Model the other transition between the Expansion Board and HiFive Unleashed areas"
"8808": "Admire our complete base with skirt"
"9000": "Plan to model the feet"
"9237": "Introduce base() module"
"9444": "Model our first two feet, introducing foot()"
"10106": "Consider extending our skirt outwards"
"10438": "Research the internal cantilever snap-to-fit detailing"
"11773": "Plan our snap and lug locations, and 4mm total wall thickness"
"11897": "Position and extend our base's skirt to accommodate the 4mm walling"
"12402": "Close it all down while continuing to adjust our skirt"
---
name: "riscy073_1"
title: "Finishing The Case (1/2)"
markers:
"4": "Recap our off-stream work, notably explaining the redesign of the HiFive Unleashed area"
"294": "A few words on design revealing itself, including SpaceX's approach to designing rockets"
"947": "Plug our adventures juggling permissions while renewing server certificates"
"1540": "Convey the importance of not falling prey to the sunken cost fallacy"
"1755": "Recap last stream's changes and our off-stream redesign and code cleanup"
"2316": "Recap our redesign of the skirt, using the Minkowski sum"
"2518": "Recap our redesign of the screw stand-offs, and the addition of vents"
"2700": "Determine to model the top of the case"
"2919": "Reposition our feet"
"2989": "Enable the guts and embark on modelling the top, starting with a cube to encompass the guts"
"3687": "Admire our top block and plan to model a lip beneath each bracket"
"3920": "Resize our top block to expose the brackets"
"4069": "Remodel our case's bottom to accommodate the brackets"
"5357": "Model some detailing on the case's bottom where the brackets reside"
"6238": "Remodel the HiFive Unleashed area to accommodate our modified brackets area"
"6887": "Admire our whole model and plan to add triangles to the bracket recesses"
"6956": "Resize the short wall in line with our modified brackets area"
"7082": "Embark on modelling triangular detailing in the bracket recesses"
"8008": "Break"
"8021": "Return and start a 2-hour timer"
"8051": "Continue modelling triangular detailing in the bracket recesses"
"10338": "Admire our bracket recess detailing, and consider raising it rather than sinking"
"10439": "Remodel our outer triangular detailing, to raise it"
"12675": "Extended triangle"
"12773": "Continue to remodel our raised outer triangular detailing"
"13146": "Render our case bottom model"
"13251": "Admire our case bottom model"
"13354": "Model the raised outer detailing on the other edge of our recess"
"14684": "Introduce bracket_wall_detail() module"
"14850": "Apply our raised outer detailing to the second bracket area"
"15073": "Cut out the second bracket's recess"
"15230": "Admire our brackets area, and slightly organise the code"
"15345": "Cut out an area of walling for access to the HiFive Unleashed"
"16104": "Render our case bottom model"
"16131": "Note our warnings, and admire our case bottom model"
"16192": "Remove stray polygons to address the warnings"
"16367": "Render our case bottom model"
"16386": "Note, but express no concern about, our one warning: "Object may not be a valid 2-manifold and may need repair!""
"16544": "Consider modelling some raised detailing around the HiFive Unleashed access cutout"
"16605": "Admire the model with the guts and top"
"16867": "Hollow out the top of the case"
"17292": "Cut out an area of the top for access to the HiFive Unleashed"
"17810": "Measure the vertical position of the HiFive Unleashed power jack (10.75mm)"
"17897": "Consider our HiFive Unleashed access cutout to be good just the way it is"
"18053": "Cut out an area of the top to accommodate the first bracket"
"18612": "Admire our cutout without the guts"
"18673": "Cut out an area of the top to accommodate the second bracket"
"18801": "Find our second bracket cutout to not line up quite right"
---
name: "riscy073_2"
title: "Finishing The Case (2/2)"
markers:
"2": "Return from reboot and continue looking into our misaligned bracket"
"108": "Fix the position of our second bracket's cutout, and the width of both"
"326": "Admire our bracket cutouts with the guts"
"437": "Cut out an area of the top to accommodate the slanted upper part of the bracket"
"1034": "Admire the cutout without the guts"
"1093": "Plan to apply the upper cutout to the second bracket, and model our detailing, lugs and snaps"
"1191": "Apply the upper cutout to the second bracket"
"1307": "Admire our cutouts with the guts, and add the lip to our plan"
"1480": "Embark on modelling the lip for the brackets"
"2175": "Add 3mm screw holes to the lip"
"3418": "Model structural support for the bracket lip, introducing support() module"
"4321": "Admire the bracket area with the whole model"
"4428": "Apply a structural support to the right end of the bracket lip"
"4523": "Break"
"4534": "Return and apply a structural support to the left end of the bracket lip"
"4815": "Admire the finished bracket area with the whole model"
"4968": "Model the detailing around the lower half of the HiFive Unleashed access cutout"
"7023": "Admire the case bottom"
"7185": "Render the case bottom"
"7280": "Note our usual warning: "Object may not be a valid 2-manifold and may need repair!""
"7364": "Research exporting"
"7600": "Export our case bottom model as .stl and get a costing ($340.92) from Craftcloud"
"8303": "Render our case top after refraining from marking it as transparent"
"8444": "Plan our technique for assembling the PC and case"
"8647": "Export our case bottom as .stl and get a costing ($339.09) from Craftcloud"
"8862": "Admire our model"
"8943": "Fix the tab recess of our Graphics card's bracket"
"9340": "Introduce case_top() module"
"9526": "Admire our whole case without the guts"
"9575": "Delete our stray square"
"9687": "Plan to model our detailing, rim, lugs and snaps"
"9823": "Begin to model the detailing around the upper half of the HiFive Unleashed access cutout"
"10047": "Break"
"10059": "Return and continue modelling the detailing around the upper half of the HiFive Unleashed access cutout"
"10878": "Admire our HiFive Unleashed access cutout"
"10940": "Model the detailing up the length of the bracket cutouts"
"11601": "Admire our brackets area"
"11632": "Research the lugs part of the internal cantilever snap-to-fit detailing"
"11887": "Snap-to-fit detailing: Model the 3mm rim around the bottom of the case"
"13227": "Admire our case bottom"
"13324": "Admire our whole model"
"13382": "Research the lugs part of the internal cantilever snap-to-fit detailing"
"13665": "Snap-to-fit detailing: Model the lugs at the corners of the top of the case, introducing lug() module"
"14311": "Admire our progress with the snap-to-fit detailing"
"14490": "Increase the length of the lugs, and reduce their depth by 0.5mm"
"14629": "Admire our progress with the snap-to-fit detailing in the context of the whole model"
"14673": "Spot a small mistake with the lugs"
"14724": "Fix the lugs"
"14904": "Admire our whole case"
"15016": "Research the snaps part of the internal cantilever snap-to-fit detailing"
"15308": "Snap-to-fit detailing: Model the snap notches on the bottom of the case"
"17111": "Admire our snap-to-fit notches, and render the case bottom"
"17178": "Note our usual warning: "Object may not be a valid 2-manifold and may need repair!""
"17260": "Admire our case bottom with the guts"
"17458": "Research the locks part of the internal cantilever snap-to-fit detailing"
"17732": "Snap-to-fit detailing: Design the shape of our snap lock, introducing snap()"
"18993": "Snap-to-fit detailing: Apply our first snap lock to the case top"
"19656": "Snap-to-fit detailing: Reduce the length of our snap locks"
"19895": "Snap-to-fit detailing: Fine-tune the position of our snap lock"
"20009": "Snap-to-fit detailing: Apply the remaining snap locks to the case top"
"20637": "Toggle on the rest of the case top"
"20849": "Snap-to-fit detailing: Affix each snap lock to the case top with a 0.5mm thick pad, moving two locks closer to the case"
"23293": "Admire our whole case"
"23423": "Admire our whole model"
"23498": "Orient our models for exporting"
"23835": "Render and export RISC-V_PC_case_top.stl"
"23908": "Render and export RISC-V_PC_case_bottom.stl"
"24024": "Run through the Craftcloud 3D Printing order process"
"24576": "Thank you, everyone, with thoughts and prayers for Miblo"
---
name: "riscy074"
title: "RISC-V PC Running Fedora GNOME... and more!"
markers:
"2": "Welcome to the stream"
"116": "Tip of the Day: Approximating 8"
"722": "Get us up to speed with our progress running Fedora on the HiFive Unleashed"
"877": "Plug the 'Build Fedora Gnome Desktop on RISC-V!!' guide"
"1259": "Note that our HiFive Unleashed has been online and accepting SSH requests, to which we may grant access"
"1448": "Show our SD card Fedora Gnome Desktop and continue to read the 'Build Fedora Gnome Desktop on RISC-V!!' guide"
"1650": "Don the antistatic wristband"
"1688": "Show our NVMe SSD"
"1827": "Recount our adventures flashing the HiFive Unleashed Expansion Board to support booting into the NVMe"
"2887": "Recount our decision to set up Ubuntu 18.04 for building the Freedom U SDK"
"3017": "Note the fact that anti static bags are conductive"
"3113": "Plug our antistatic mat and properly grounded house"
"3211": "Plug Atish's Plasma mobile running on RISC-V"
"3263": "Plug dullfire's 'Microsemi expansion board support/issue' thread in the SiFive Forums"
"3939": "Recount our investigations into the HiFive Unleashed device tree"
"4081": "Recount our patching and successful building of the Freedom U SDK"
"4134": "Recount our plan to go through jonesforth, including our discovery of Handmade Hero on the "programming" subreddit, with a plug of Per Vognsen's Bitwise"
"4447": "Recount our inclusion in Handmade Seattle and adventures in job hunting"
"4670": "Shout-out to Richard W. M. Jones, writer of jonesforth, and contributor to the RISC-V Fedora work"
"4874": "Show and fit our magical NVMe SSD stand-off"
"5110": "Determine to assemble our RISC-V machine"
"5165": "Embark on unboxing our freshly-arrived 3D printed case"
"5360": "Show and admire our case's transparent top"
"5483": "Unbox our case's bottom"
"5580": "Show and admire our case's bottom"
"5630": "Snap our case together"
"6148": "Consider playing with the case fit off camera"
"6241": "Show our assembled case"
"6352": "Show our sanded lugs, and consider the potential to omit the snaps' 0.5mm wiggle room, and tighten them"
"6706": "Favourably review the build quality of the case and the service of both 3D printing companies"
"6875": "Recount our built and partially booting HiFive Unleashed setup, having followed Atish's steps and copied the raw disk image from our Arch Linux (host) installation to the SD card"
"7055": "Show our HiFive Unleashed boot messages"
"7150": "Plug the newest Freedom U SDK with the determination to try it"
"7587": "Determine to situate our RISC-V PC in its case"
"7639": "Disassemble our RISC-V PC, and place the HiFive Unleashed in the case"
"7767": "Confirm that the screw holes do line up"
"7783": "Gather screws"
"8026": "Try different sized screws on the HiFive Unleashed and case"
"8533": "Try hanging our cards into the case"
"9049": "Return with Dad's screws and note our sanding of the lugs and an area on the back to accommodate the USB cable"
"9248": "Show Dad's screws through the snaps, fixing the case together, and our sanding of the Graphics card bracket cutout"
"9717": "Determine to try the new Freedom U SDK, having built it on a build server"
"9975": "Assemble our RISC-V PC on the antistatic mat"
"10167": "Boot and connect to our RISC-V PC"
"10247": "Check the boot log"
"10308": "Run `lspci`, to see essentially nothing"
"10332": "Find that `lsusb` is absent"
"10340": "Run `ls /dev`"
"10409": "Run `dmesg`"
"10556": "Consult the bootloaders in the Freedom U SDK"
"10633": "Run `fdisk -l` and check /etc/fstab"
"10916": "Try to mount /dev/mmcblk0p1"
"10997": "Power down our RISC-V PC, and switch the Expansion Board to the "up" position"
"11057": "Boot our RISC-V PC"
"11104": "Login and run `lspci` to see all our hardware"
"11225": "Power down our RISC-V PC, and plug in our 8 GiB SD card"
"11277": "Power up our RISC-V to find that it doesn't boot"
"11321": "Determine to plug in our monitor, powered via USB by our separate laptop"
"11386": "Plug in our monitor, powered via USB by our separate laptop, and move the boot selector to the "down" position"
"11460": "Boot into our Fedora-powered RISC-V PC"
"11558": "Show the GNOME Fedora desktop environment running on our RISC-V PC (first boot)"
"11617": "Determine to try the demo-coreip-xfce4.bb image containing Quake 2"
"11700": "Hook up the Ultimate Hacking Keyboard with our RISC-V PC"
"11739": "Position the webcam to show the RISC-V PC screen"
"11803": "Try touch input, without success"
"11837": "Hook up the mouse with our RISC-V PC"
"11881": "Find that the RISC-V PC does not see our mouse"
"11931": "Reboot our RISC-V PC"
"12019": "We've got mouse input! Highlight of the series so far"
"12051": "Initially personalise our RISC-V Fedora installation"
"12252": "Check the status of the XFCE4 download on the laptop: Complete"
"12337": "Determine to write the XFCE4 image to the SD card; consult Atish's repo for first-time boot info; see if the RISC-V PC can power the monitor, and if we can play Quake 2 with a gamepad, and run Ryan Fleury's Melodist"
"12437": "Start the XFCE4 image writing to the SD card"
"12578": "Consult Atish's repo for first-time boot info"
"12636": "Reboot our RISC-V PC"
"12729": "Log in to our RISC-V Fedora system and check it out"
"13013": "Shut down the RISC-V PC"
"13074": "Check on the progress of our XFCE4 write and disconnect the monitor's USB cable from the laptop"
"13107": "Boot our RISC-V PC, itself powering the monitor, with success"
"13181": "A few words on the rapid progress in the world of RISC-V, with laptops and phones expected in two years"
"13350": "Consider a snag with switching our boot selector between installations"
"13529": "Explore our RISC-V Fedora environment for eye candy"
"13932": "Shut down the RISC-V PC, and switch it over to boot the XFCE4 image"
"14105": "Hunt for Quake 2 in our RISC-V XFCE4 system"
"14499": "Determine to post pictures on Twitter of our RISC-V PC, to enjoy Handmade Seattle and relax after the conference"
"14650": "Shut down our RISC-V PC and wind down the stream"
---
