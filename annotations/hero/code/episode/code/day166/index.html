<html>
    <head>
        <meta charset="UTF-8">
        <meta name="generator" content="Cinera 0.7.15">
        <meta name="keywords" content="Chat Comment, Programming, Speech">

        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera.css?r=39c76375">
        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera__hero.css?r=29c3877c">
        <link rel="stylesheet" type="text/css" href="https://handmade.network/public/annotations/cinera_topics.css?r=3a3f2a93">
        <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_pre.js?r=3e2343d1"></script>
        <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_player_pre.js?r=5587322c"></script>
    </head>
    <body>
        <div>
            <div class="cineraMenus hero">
            <span class="episode_name">Adding Locks to the Asset Operations</span>
            <div class="menu quotes">
                <span>Quotes &#9660;</span>
                <div class="refs quotes_container">
                    <a target="_blank" class="ref" href="https://dev.abaines.me.uk/quotes/handmade_hero/167">
                        <span data-id="&#945;">
                            <span class="ref_content">
                                <div class="source">Quote 167</div>
                                <div class="ref_title">Star Trek: The Next Generation ID.</div>
                                <div class="quote_byline">&mdash;handmade_hero, 12th August, 2015</div>
                            </span>
                            <div class="ref_indices">
                                <span data-timestamp="2593" class="timecode"><span class="ref_index">[&#945;]</span><span class="time">43:13</span></span>
                            </div>
                        </span>
                    </a>
                    <a target="_blank" class="ref" href="https://dev.abaines.me.uk/quotes/handmade_hero/168">
                        <span data-id="&#946;">
                            <span class="ref_content">
                                <div class="source">Quote 168</div>
                                <div class="ref_title">Lunix, the operating system for Europeans.</div>
                                <div class="quote_byline">&mdash;handmade_hero, 12th August, 2015</div>
                            </span>
                            <div class="ref_indices">
                                <span data-timestamp="2729" class="timecode"><span class="ref_index">[&#946;]</span><span class="time">45:29</span></span>
                            </div>
                        </span>
                    </a>
                </div>
            </div>
            <div class="menu filter">
                <span><img src="https://handmade.network/public/annotations/cinera_icon_filter.png?r=3d831e54"></span>
                <div class="filter_container">
                    <div class="filter_mode exclusive">Filter mode: </div>
                    <div class="filters">
                        <div class="filter_topics">
                            <div class="filter_title">Topics</div>
                            <div title="Timestamps that don't fit into the above topic(s) may be filtered using this pseudo-topic" class="filter_content nullTopic">
                                <span class="icon category nullTopic"></span><span class="cineraText">(null topic)</span>
                            </div>
                        </div>
                        <div class="filter_media">
                            <div class="filter_title">Media</div>
                            <div class="filter_content authored">
                                <span class="icon">&#128490;</span><span class="cineraText">Chat Comment</span>
                            </div>
                            <div class="filter_content programming">
                                <span class="icon">&#128430;</span><span class="cineraText">Programming</span><span class="cineraDefaultMediumIndicator" title="Default medium
Timestamps lacking a media icon are in this medium">&#128969;</span>
                            </div>
                            <div class="filter_content speech">
                                <span class="icon">&#128489;</span><span class="cineraText">Speech</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="menu views">
                <div class="view" data-id="theatre" title="Theatre mode">&#127917;</div>
                <div class="views_container">
                    <div class="view" data-id="super" title="SUPERtheatre mode">&#127967;</div>
                </div>
            </div>
            <div class="menu link">
                <span>&#128279;</span>
                <div class="link_container">
                    <div id="cineraLinkMode">Link to: current timestamp</div>
                    <textarea title="Click to copy to clipboard" id="cineraLink" readonly spellcheck="false"></textarea>
                </div>
            </div>
            <div class="menu credits">
                <span>Credits</span>
                <div class="credits_container">
                    <span class="credit">
                        <a class="person" href="https://handmadehero.org/" target="_blank">
                            <div class="role">Host</div>
                            <div class="name">Casey Muratori</div>
                        </a>
                        <a class="support" href="https://handmadehero.org/fund" target="_blank"><img src="https://handmade.network/public/annotations/cinera_sprite_sendowl.png?r=6899f6b0"></a>
                    </span>
                    <span class="credit">
                        <a class="person" href="https://miblo.net/" target="_blank">
                            <div class="role">Indexer</div>
                            <div class="name">Matt Mascarenhas</div>
                        </a>
                        <a class="support" href="https://miblo.net/cinera#pledge" target="_blank"><img src="https://handmade.network/public/annotations/cinera_sprite_sendowl.png?r=6899f6b0"></a>
                    </span>
                    <span class="credit">
                        <a class="person" href="http://blog.debiatan.net/" target="_blank">
                            <div class="role">Indexer</div>
                            <div class="name">Miguel Lechón</div>
                        </a>
                    </span>
                </div>
            </div>
            <div class="help">
                <span>?</span>
                <div class="help_container">
                    <span class="help_key">?</span><h1>Keyboard Navigation</h1>

                    <h2>Global Keys</h2>
                    <span class="help_key">[</span>, <span class="help_key">&lt;</span> / <span class="help_key">]</span>, <span class="help_key">&gt;</span> <span class="help_text">Jump to previous / next episode</span><br>
                    <span class="help_key">W</span>, <span class="help_key">K</span>, <span class="help_key">P</span> / <span class="help_key">S</span>, <span class="help_key">J</span>, <span class="help_key">N</span> <span class="help_text">Jump to previous / next marker</span><br>
                    <span class="help_key">t</span> / <span class="help_key">T</span> <span class="help_text">Toggle theatre / SUPERtheatre mode</span><br>
                    <span class="help_key">V</span> <span class="help_text">Revert filter to original state</span> <span class="help_key">Y</span> <span class="help_text">Select link (requires manual Ctrl-c)</span>

                    <h2>Menu toggling</h2>
                    <span class="help_key">q</span> <span class="help_text">Quotes</span>
                    <span class="help_key unavailable">r</span> <span class="help_text unavailable">References</span>
                    <span class="help_key">f</span> <span class="help_text">Filter</span>
                    <span class="help_key">y</span> <span class="help_text">Link</span>
                    <span class="help_key">c</span> <span class="help_text">Credits</span>

                    <h2>In-Menu Movement</h2>
                    <div class="help_paragraph">
                        <div class="key_block">
                            <div>
                                <span class="help_key">a</span>
                            </div>
                            <div>
                                <span class="help_key">w</span><br>
                                <span class="help_key">s</span>
                            </div>
                            <div>
                                <span class="help_key">d</span>
                            </div>
                        </div>
                        <div class="key_block">
                            <span class="help_key">h</span>
                            <span class="help_key">j</span>
                            <span class="help_key">k</span>
                            <span class="help_key">l</span>
                        </div>
                        <div class="key_block">
                            <div>
                                <span class="help_key">←</span>
                            </div>
                            <div>
                                <span class="help_key">↑</span><br>
                                <span class="help_key">↓</span>
                            </div>
                            <div>
                                <span class="help_key">→</span>
                            </div>
                        </div>
                    </div>
                    <br>
                    <h2>Quotes <span class="unavailable">and References</span> Menus</h2>
                    <span class="help_key word">Enter</span> <span class="help_text">Jump to timecode</span><br>

                    <h2>Quotes<span class="unavailable">, References </span>and Credits Menus</h2>                    <span class="help_key">o</span> <span class="help_text">Open URL (in new tab)</span>

                    <h2>Filter Menu</h2>
                    <span class="help_key">x</span>, <span class="help_key word">Space</span> <span class="help_text">Toggle category and focus next</span><br>
                    <span class="help_key">X</span>, <span class="help_key word modifier">Shift</span><span class="help_key word">Space</span> <span class="help_text">Toggle category and focus previous</span><br>
                    <span class="help_key">v</span> <span class="help_text">Invert topics / media as per focus</span>

                    <h2>Filter and Link Menus</h2>
                    <span class="help_key">z</span> <span class="help_text">Toggle filter / linking mode</span>

                    <h2>Credits Menu</h2>
                    <span class="help_key word">Enter</span> <span class="help_text">Open URL (in new tab)</span><br>
                </div>
            </div>
        </div>
        <div class="cineraPlayerContainer">
            <div class="video_container" data-videoId="jIWa0AZz2Sk"></div>
            <div class="markers_container hero">
                <a class="episodeMarker prev" href="https://hero.handmade.network/episode/code/day165/"><div>&#9195;</div><div>Previous: 'Fixing an Asset System Thread Bug'</div><div>&#9195;</div></a>
            <div class="markers">
                <div data-timestamp="38" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">0:38</span>Recap and plan for the day</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">0:38</span>Recap and plan for the day</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">0:38</span>Recap and plan for the day</div>
                    </div>
                </div>
                <div data-timestamp="83" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:23</span>We&#39;ll finish the generationID work we started on the previous episode</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:23</span>We&#39;ll finish the generationID work we started on the previous episode</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:23</span>We&#39;ll finish the generationID work we started on the previous episode</div>
                    </div>
                </div>
                <div data-timestamp="120" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">2:00</span>We need to access the linked list through locks</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">2:00</span>We need to access the linked list through locks</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">2:00</span>We need to access the linked list through locks</div>
                    </div>
                </div>
                <div data-timestamp="246" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">4:06</span>We also want to avoid simultaneous AcquireAssetMemory calls</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">4:06</span>We also want to avoid simultaneous AcquireAssetMemory calls</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">4:06</span>We also want to avoid simultaneous AcquireAssetMemory calls</div>
                    </div>
                </div>
                <div data-timestamp="337" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">5:37</span>BeginTaskWithMemory is not protected against concurrent calls either</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">5:37</span>BeginTaskWithMemory is not protected against concurrent calls either</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">5:37</span>BeginTaskWithMemory is not protected against concurrent calls either</div>
                    </div>
                </div>
                <div data-timestamp="405" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">6:45</span>Background tasks should not spawn other background tasks</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">6:45</span>Background tasks should not spawn other background tasks</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">6:45</span>Background tasks should not spawn other background tasks</div>
                    </div>
                </div>
                <div data-timestamp="493" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">8:13</span>We don&#39;t want every LoadBitmap call to have it&#39;s own thread; only those associated to the main thread render_group should</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">8:13</span>We don&#39;t want every LoadBitmap call to have it&#39;s own thread; only those associated to the main thread render_group should</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">8:13</span>We don&#39;t want every LoadBitmap call to have it&#39;s own thread; only those associated to the main thread render_group should</div>
                    </div>
                </div>
                <div data-timestamp="672" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">11:12</span>Parameterizing LoadBitmap to exhibit immediate and deferred behaviors</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">11:12</span>Parameterizing LoadBitmap to exhibit immediate and deferred behaviors</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">11:12</span>Parameterizing LoadBitmap to exhibit immediate and deferred behaviors</div>
                    </div>
                </div>
                <div data-timestamp="762" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">12:42</span>Dividing LoadAssetWork into immediate and deferred portions</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">12:42</span>Dividing LoadAssetWork into immediate and deferred portions</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">12:42</span>Dividing LoadAssetWork into immediate and deferred portions</div>
                    </div>
                </div>
                <div data-timestamp="1098" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">18:18</span>Deciding on how to lock access to AcquireAssetMemory and AddAssetHeaderToList. Do we want one or two locks?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">18:18</span>Deciding on how to lock access to AcquireAssetMemory and AddAssetHeaderToList. Do we want one or two locks?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">18:18</span>Deciding on how to lock access to AcquireAssetMemory and AddAssetHeaderToList. Do we want one or two locks?</div>
                    </div>
                </div>
                <div data-timestamp="1524" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">25:24</span>Let&#39;s try with just one lock</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">25:24</span>Let&#39;s try with just one lock</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">25:24</span>Let&#39;s try with just one lock</div>
                    </div>
                </div>
                <div data-timestamp="1799" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">29:59</span>Review of GetAsset and AcquireAssetMemory locks</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">29:59</span>Review of GetAsset and AcquireAssetMemory locks</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">29:59</span>Review of GetAsset and AcquireAssetMemory locks</div>
                    </div>
                </div>
                <div data-timestamp="1926" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">32:06</span>Implementing BeginAssetLock and EndAssetLock</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">32:06</span>Implementing BeginAssetLock and EndAssetLock</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">32:06</span>Implementing BeginAssetLock and EndAssetLock</div>
                    </div>
                </div>
                <div data-timestamp="2248" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">37:28</span>Testing the locking of linked lists</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">37:28</span>Testing the locking of linked lists</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">37:28</span>Testing the locking of linked lists</div>
                    </div>
                </div>
                <div data-timestamp="2309" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">38:29</span>Finishing the GenerationID in-flight asset tracking from the past episode</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">38:29</span>Finishing the GenerationID in-flight asset tracking from the past episode</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">38:29</span>Finishing the GenerationID in-flight asset tracking from the past episode</div>
                    </div>
                </div>
                <div data-timestamp="2554" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">42:34</span>Implementing NewGenerationID: Using AtomicIncrement to avoid returning the same GenerationID to two threads</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">42:34</span>Implementing NewGenerationID: Using AtomicIncrement to avoid returning the same GenerationID to two threads</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">42:34</span>Implementing NewGenerationID: Using AtomicIncrement to avoid returning the same GenerationID to two threads</div>
                    </div>
                </div>
                <div data-timestamp="2593" class="marker cat_nullTopic programming" data-ref="&#945;">
                    <div class="cineraContent"><span class="timecode">43:13</span>Star Trek: The Next Generation ID<sup>&#945;</sup></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">43:13</span>Star Trek: The Next Generation ID<sup>&#945;</sup></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">43:13</span>Star Trek: The Next Generation ID<sup>&#945;</sup></div>
                    </div>
                </div>
                <div data-timestamp="2729" class="marker cat_nullTopic programming" data-ref="&#946;">
                    <div class="cineraContent"><span class="timecode">45:29</span>Correctly use __sync_fetch_and_add for those of us on &quot;Lunix&quot;<sup>&#946;</sup></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">45:29</span>Correctly use __sync_fetch_and_add for those of us on &quot;Lunix&quot;<sup>&#946;</sup></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">45:29</span>Correctly use __sync_fetch_and_add for those of us on &quot;Lunix&quot;<sup>&#946;</sup></div>
                    </div>
                </div>
                <div data-timestamp="3030" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">50:30</span>Testing it</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">50:30</span>Testing it</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">50:30</span>Testing it</div>
                    </div>
                </div>
                <div data-timestamp="3067" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">51:07</span>Making sure we don&#39;t evict assets with in-flight GenerationIDs by keeping a list</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">51:07</span>Making sure we don&#39;t evict assets with in-flight GenerationIDs by keeping a list</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">51:07</span>Making sure we don&#39;t evict assets with in-flight GenerationIDs by keeping a list</div>
                    </div>
                </div>
                <div data-timestamp="3252" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">54:12</span>AssetLock instead of AtomicIncrement inside NewGenerationID to protect both the GenerationID and the InFlightGenerations list</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">54:12</span>AssetLock instead of AtomicIncrement inside NewGenerationID to protect both the GenerationID and the InFlightGenerations list</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">54:12</span>AssetLock instead of AtomicIncrement inside NewGenerationID to protect both the GenerationID and the InFlightGenerations list</div>
                    </div>
                </div>
                <div data-timestamp="3344" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">55:44</span>Implementing GenerationHasCompleted</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">55:44</span>Implementing GenerationHasCompleted</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">55:44</span>Implementing GenerationHasCompleted</div>
                    </div>
                </div>
                <div data-timestamp="3542" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">59:02</span>What gets rid of the render_groups?</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">59:02</span>What gets rid of the render_groups?</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">59:02</span>What gets rid of the render_groups?</div>
                    </div>
                </div>
                <div data-timestamp="3719" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:01:59</span>Implementing FinishRenderGroup</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:01:59</span>Implementing FinishRenderGroup</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:01:59</span>Implementing FinishRenderGroup</div>
                    </div>
                </div>
                <div data-timestamp="3820" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:03:40</span>We still need to thoroughly test today&#39;s code</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:03:40</span>We still need to thoroughly test today&#39;s code</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:03:40</span>We still need to thoroughly test today&#39;s code</div>
                    </div>
                </div>
                <div data-timestamp="3821" class="marker cat_nullTopic programming">
                    <div class="cineraContent"><span class="timecode">1:03:41</span>NOTE: (There are ten more minutes of programming in the answer to Q:1:21:19)</div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:03:41</span>NOTE: (There are ten more minutes of programming in the answer to Q:1:21:19)</div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:03:41</span>NOTE: (There are ten more minutes of programming in the answer to Q:1:21:19)</div>
                    </div>
                </div>
                <div data-timestamp="3891" class="marker cat_nullTopic speech">
                    <div class="cineraContent"><span class="timecode">1:04:51</span>Q&amp;A<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:04:51</span>Q&amp;A<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:04:51</span>Q&amp;A<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3930" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:05:30</span><span class="author" data-hue="343" data-saturation="98%">TheSizik</span> __sync_add_and_fetch returns the new value<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:05:30</span><span class="author" data-hue="343" data-saturation="98%">TheSizik</span> __sync_add_and_fetch returns the new value<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:05:30</span><span class="author" data-hue="343" data-saturation="98%">TheSizik</span> __sync_add_and_fetch returns the new value<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3943" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:05:43</span><span class="author" data-hue="342" data-saturation="98%">mmozeiko</span> Please don&#39;t cast Value to (long*) for __sync_fetch_and_add, it will generate wrong code on 64-bit Linux/OSX<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:05:43</span><span class="author" data-hue="342" data-saturation="98%">mmozeiko</span> Please don&#39;t cast Value to (long*) for __sync_fetch_and_add, it will generate wrong code on 64-bit Linux/OSX<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:05:43</span><span class="author" data-hue="342" data-saturation="98%">mmozeiko</span> Please don&#39;t cast Value to (long*) for __sync_fetch_and_add, it will generate wrong code on 64-bit Linux/OSX<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="3977" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:06:17</span><span class="author" data-hue="5" data-saturation="94%">RobotChocolateDino</span> What&#39;s the advantage of calling load bitmaps from other threads? Wouldn&#39;t it be better to just have PushBitmap fail when called from other threads so that there are no assets missing from the ground chunks and so that all the bitmap memory could be acquired on the main thread? The ground chunks could probably wait one frame to have their assets loaded if they are prefetched ahead of time<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:06:17</span><span class="author" data-hue="5" data-saturation="94%">RobotChocolateDino</span> What&#39;s the advantage of calling load bitmaps from other threads? Wouldn&#39;t it be better to just have PushBitmap fail when called from other threads so that there are no assets missing from the ground chunks and so that all the bitmap memory could be acquired on the main thread? The ground chunks could probably wait one frame to have their assets loaded if they are prefetched ahead of time<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:06:17</span><span class="author" data-hue="5" data-saturation="94%">RobotChocolateDino</span> What&#39;s the advantage of calling load bitmaps from other threads? Wouldn&#39;t it be better to just have PushBitmap fail when called from other threads so that there are no assets missing from the ground chunks and so that all the bitmap memory could be acquired on the main thread? The ground chunks could probably wait one frame to have their assets loaded if they are prefetched ahead of time<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4043" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:07:23</span><span class="author" data-hue="126" data-saturation="82%">powerc9k</span> Is the Github repo online and if so how does one gain access?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:07:23</span><span class="author" data-hue="126" data-saturation="82%">powerc9k</span> Is the Github repo online and if so how does one gain access?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:07:23</span><span class="author" data-hue="126" data-saturation="82%">powerc9k</span> Is the Github repo online and if so how does one gain access?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4075" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:07:55</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> Will you get rid of stdint ever?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:07:55</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> Will you get rid of stdint ever?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:07:55</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> Will you get rid of stdint ever?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4122" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:08:42</span><span class="author" data-hue="111" data-saturation="80%">Brotorias</span> Is &quot;volatile&quot; actually needed in your compare-and-exchange?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:08:42</span><span class="author" data-hue="111" data-saturation="80%">Brotorias</span> Is &quot;volatile&quot; actually needed in your compare-and-exchange?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:08:42</span><span class="author" data-hue="111" data-saturation="80%">Brotorias</span> Is &quot;volatile&quot; actually needed in your compare-and-exchange?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4176" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:09:36</span><span class="author" data-hue="322" data-saturation="90%">jessem3y3r</span> How difficult would it be to have the letter particles fall independently of the hero?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:09:36</span><span class="author" data-hue="322" data-saturation="90%">jessem3y3r</span> How difficult would it be to have the letter particles fall independently of the hero?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:09:36</span><span class="author" data-hue="322" data-saturation="90%">jessem3y3r</span> How difficult would it be to have the letter particles fall independently of the hero?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4640" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:17:20</span><span class="author" data-hue="39" data-saturation="92%">Stephenlast</span> Don&#39;t you need to move all ground chunk work into the separate thread? ATM it looks like it&#39;s only actually doing render to output in the task<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:17:20</span><span class="author" data-hue="39" data-saturation="92%">Stephenlast</span> Don&#39;t you need to move all ground chunk work into the separate thread? ATM it looks like it&#39;s only actually doing render to output in the task<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:17:20</span><span class="author" data-hue="39" data-saturation="92%">Stephenlast</span> Don&#39;t you need to move all ground chunk work into the separate thread? ATM it looks like it&#39;s only actually doing render to output in the task<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4703" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:18:23</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> Why are you using u64 instead of size_t for buffer sizes?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:18:23</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> Why are you using u64 instead of size_t for buffer sizes?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:18:23</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> Why are you using u64 instead of size_t for buffer sizes?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4761" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:19:21</span><span class="author" data-hue="271" data-saturation="98%">AlejRad</span> Why are you using windows?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:19:21</span><span class="author" data-hue="271" data-saturation="98%">AlejRad</span> Why are you using windows?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:19:21</span><span class="author" data-hue="271" data-saturation="98%">AlejRad</span> Why are you using windows?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="4879" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:21:19</span><span class="author" data-hue="39" data-saturation="92%">Stephenlast</span> I only ask because for now it seems like you will be stalling for that LoadBitmap on the main thread<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:21:19</span><span class="author" data-hue="39" data-saturation="92%">Stephenlast</span> I only ask because for now it seems like you will be stalling for that LoadBitmap on the main thread<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:21:19</span><span class="author" data-hue="39" data-saturation="92%">Stephenlast</span> I only ask because for now it seems like you will be stalling for that LoadBitmap on the main thread<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="5699" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:34:59</span><span class="author" data-hue="67" data-saturation="90%">mvargasmoran</span> How difficult would be to make this boot alone in a Raspberry Pi or something like that?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:34:59</span><span class="author" data-hue="67" data-saturation="90%">mvargasmoran</span> How difficult would be to make this boot alone in a Raspberry Pi or something like that?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:34:59</span><span class="author" data-hue="67" data-saturation="90%">mvargasmoran</span> How difficult would be to make this boot alone in a Raspberry Pi or something like that?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="5711" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:35:11</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> load_asset_work for u64 !size_t<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:35:11</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> load_asset_work for u64 !size_t<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:35:11</span><span class="author" data-hue="153" data-saturation="97%">OsmanTheBlack</span> load_asset_work for u64 !size_t<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="5768" class="marker cat_nullTopic authored">
                    <div class="cineraContent"><span class="timecode">1:36:08</span><span class="author" data-hue="5" data-saturation="94%">RobotChocolateDino</span> Would dedicating one thread to asset loaded which has an atomic queue be a bad idea?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:36:08</span><span class="author" data-hue="5" data-saturation="94%">RobotChocolateDino</span> Would dedicating one thread to asset loaded which has an atomic queue be a bad idea?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:36:08</span><span class="author" data-hue="5" data-saturation="94%">RobotChocolateDino</span> Would dedicating one thread to asset loaded which has an atomic queue be a bad idea?<span class="cineraCategories"><div title="Chat Comment" class="categoryMedium authored">&#128490;</div></span></div>
                    </div>
                </div>
                <div data-timestamp="5859" class="marker cat_nullTopic speech">
                    <div class="cineraContent"><span class="timecode">1:37:39</span>Wind it down<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    <div class="progress faded">
                        <div class="cineraContent"><span class="timecode">1:37:39</span>Wind it down<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                    <div class="progress main">
                        <div class="cineraContent"><span class="timecode">1:37:39</span>Wind it down<span class="cineraCategories"><div title="Speech" class="categoryMedium speech">&#128489;</div></span></div>
                    </div>
                </div>
            </div>
                <a class="episodeMarker next" href="https://hero.handmade.network/episode/code/day167/"><div>&#9196;</div><div>Next: 'Finishing Win32 Font Glyph Extraction'</div><div>&#9196;</div></a>
            </div>
        </div>
        </div>
    <script type="text/javascript" src="https://handmade.network/public/annotations/cinera_player_post.js?r=285016ab"></script>
    </body>
</html>
